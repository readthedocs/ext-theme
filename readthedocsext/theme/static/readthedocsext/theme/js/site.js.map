{"version":3,"file":"js/site.js?d4235673791a3265aaae","mappings":"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","sources":["webpack://readthedocsext-theme/webpack/runtime/chunk loaded","webpack://readthedocsext-theme/webpack/runtime/create fake namespace object","webpack://readthedocsext-theme/webpack/runtime/load script","webpack://readthedocsext-theme/external var \"moment\"","webpack://readthedocsext-theme/./src/js/application/views.js","webpack://readthedocsext-theme/./src/js/application/globals.js","webpack://readthedocsext-theme/./src/js/application/plugins.js","webpack://readthedocsext-theme/./src/js/application/registry.js","webpack://readthedocsext-theme/./src/js/account/index.js","webpack://readthedocsext-theme/./src/js/build/detail.js","webpack://readthedocsext-theme/./src/js/core/views.js","webpack://readthedocsext-theme/./src/js/gold/index.js","webpack://readthedocsext-theme/./src/js/application/elements.js","webpack://readthedocsext-theme/./src/js/modules/avatar.js","webpack://readthedocsext-theme/./src/js/modules/header.js","webpack://readthedocsext-theme/./src/js/modules/filter.js","webpack://readthedocsext-theme/./src/js/modules/forms.js","webpack://readthedocsext-theme/./src/js/modules/menus.js","webpack://readthedocsext-theme/./node_modules/dompurify/dist/purify.es.mjs","webpack://readthedocsext-theme/./src/js/modules/notifications.js","webpack://readthedocsext-theme/./src/js/modules/popupcards.js","webpack://readthedocsext-theme/./src/js/organization/index.js","webpack://readthedocsext-theme/./src/js/project/admin.js","webpack://readthedocsext-theme/./src/js/tasks/index.js","webpack://readthedocsext-theme/./src/js/project/create.js","webpack://readthedocsext-theme/./src/js/project/index.js","webpack://readthedocsext-theme/./src/js/profile/index.js","webpack://readthedocsext-theme/./src/js/application/index.js","webpack://readthedocsext-theme/./src/js/site.js","webpack://readthedocsext-theme/webpack/bootstrap","webpack://readthedocsext-theme/webpack/runtime/define property getters","webpack://readthedocsext-theme/webpack/runtime/ensure chunk","webpack://readthedocsext-theme/webpack/runtime/get javascript chunk filename","webpack://readthedocsext-theme/webpack/runtime/get mini-css chunk filename","webpack://readthedocsext-theme/webpack/runtime/hasOwnProperty shorthand","webpack://readthedocsext-theme/webpack/runtime/make namespace object","webpack://readthedocsext-theme/webpack/runtime/publicPath","webpack://readthedocsext-theme/webpack/runtime/jsonp chunk loading","webpack://readthedocsext-theme/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","var inProgress = {};\nvar dataWebpackPrefix = \"readthedocsext-theme:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","if(typeof moment === 'undefined') { var e = new Error(\"Cannot find module 'moment'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }\n\nmodule.exports = moment;","import ko from \"knockout\";\n// Note: if debugging is needed, you can try this import instead.\n//import ko from \"knockout/build/output/knockout-latest.debug.js\";\nimport jquery from \"jquery\";\n\n/**\n * ``ApplicationView`` is the top-level view that is bound to ``<body>``, and is\n * what surfaces all registered view to templates. Registered views will be\n * available as attributes on this instance, and can be referenced directly, or\n * if the context is already in one of the views, can be referenced using\n * ``$root``:\n *\n * .. code:: html\n *\n *    <body>\n *      <!-- The context is bound to ApplicationView() -->\n *      <div data-bind=\"using: ProjectCreateView()\">\n *       <!-- The context is now bound to ProjectCreateView() -->\n *       <div data-bind=\"using $root.DocEmbedView()\">\n *         <!-- The context is bound to DocEmbedView() -->\n *       </div>\n *      </div>\n *    </body>\n *\n * This view also has a few utility methods that templates use directly. This is\n * for a few quirks where Knockout or HTML required for SemanticUI need some\n * additional code.\n */\nexport class ApplicationView {\n  /**\n   * Attach application main view\n   *\n   * @param {string} selector - Selector string to use for view attachment\n   */\n  attach(selector = \"body\") {\n    console.debug(\"Attaching application to selector:\", selector);\n    ko.applyBindings(this, jquery(selector)[0]);\n  }\n\n  /**\n   * Show a modal using an event callback. This is set up on\n   * :class:`ApplicationView` so that this method is available as\n   * ``$root.show_modal(123);``. This is required because the modal plugin ends\n   * up altering ``<body>``, and this causes some havoc on the already attached\n   * view on ``<body>``.\n   *\n   * This should be used from an element data-bind, such as:\n   *\n   * .. code:: html\n   *\n   *     <button data-bind=\"click: $root.show_modal('delete')\"></button>\n   *     <div class=\"ui modal\" data-modal-id=\"delete\"></div>\n   *\n   * This method is executed when the view is attached and returns a callback.\n   * The callback is finally executed from the ``click`` binding.\n   *\n   * @param {string} modal_id - Modal id, references `data-modal-id` attribute\n   * @returns {knockout_click}\n   */\n  show_modal(modal_id) {\n    return (data, event) => {\n      const selector = \"[data-modal-id=\" + modal_id + \"]\";\n      console.debug(\"Showing modal:\", selector);\n      const found_modal = jquery(selector).modal(\"show\");\n      if (found_modal.length === 0) {\n        console.debug(\"Modal not found:\", selector);\n      }\n\n      // Remove \"visible\" variation property to remove \"Last used\" tooltip\n      const buttons = document.querySelectorAll(\".button.ui\");\n      for (const button of buttons) {\n        if (button.dataset.variation) {\n          const variation = button.dataset.variation.split(\" \");\n          variation.pop(\"visible\");\n          button.dataset.variation = variation.join(\" \");\n        }\n      }\n    };\n  }\n\n  /**\n   * Submit a child form, useful for triggering a form POST with a link\n   *\n   * This could be used like:\n   *\n   * .. code:: html\n   *\n   *     <button data-bind=\"click: $root.post_child_form\">\n   *       Log out\n   *       <form method=\"post\" action=\"...\">\n   *         ...\n   *       </form>\n   *     </button>\n   *\n   * @param {Object} data - Context data\n   * @param {Event} event - Click event\n   * @returns {knockout_click}\n   */\n  post_child_form(data, event) {\n    const elem = event.currentTarget;\n    const form = elem.querySelector(\":scope > form\");\n    if (form) {\n      form.submit();\n    }\n    return false;\n  }\n}\n","/**\n * Global imports workaround\n *\n * This import is used mostly during testing and for jQuery dependencies.\n * Because jQuery plugins and downstream libraries use jQuery as a\n * global/window object, we need to surface the library in the same way during\n * testing. In normal usage, jQuery is in our vendor library and Webpack knows\n * how to treat reference the external vendor library for instances of a\n * global/window jQuery variable.\n *\n * In testing, this accomplishes the same thing. It's defined in a separate\n * import as the import will be evaluated first, giving a chance to attach\n * `window.jQuery` before the other dependencies, like jQuery plugins and all\n * of FomanticUI's component, are imported.\n */\n\nimport jquery from \"jquery\";\nglobalThis.jQuery = jquery;\n","import jquery from \"jquery\";\nimport ko from \"knockout\";\n\n// TODO this is only really needed while testing, it could be behind a\n// conditional\nimport \"./globals\";\n\nimport Plausible from \"plausible-tracker\";\n\n// Required for FUI tab module\nimport * as jqueryAddress from \"jquery-address\";\n\n/* CommonJS require instead of import syntax on purpose */\nimport * as fomanticVisibility from \"fomantic-ui-less/definitions/behaviors/visibility.js\";\nimport * as fomaticForm from \"fomantic-ui-less/definitions/behaviors/form.js\";\nimport * as fomaticState from \"fomantic-ui-less/definitions/behaviors/state.js\";\nimport * as fomaticAPI from \"fomantic-ui-less/definitions/behaviors/api.js\";\nimport * as fomaticTransition from \"fomantic-ui-less/definitions/modules/transition.js\";\nimport * as fomaticTab from \"fomantic-ui-less/definitions/modules/tab.js\";\nimport * as fomaticDropdown from \"fomantic-ui-less/definitions/modules/dropdown.js\";\nimport * as fomaticModal from \"fomantic-ui-less/definitions/modules/modal.js\";\nimport * as fomaticSearch from \"fomantic-ui-less/definitions/modules/search.js\";\nimport * as fomaticSticky from \"fomantic-ui-less/definitions/modules/sticky.js\";\nimport * as fomaticShape from \"fomantic-ui-less/definitions/modules/shape.js\";\nimport * as fomaticAccordian from \"fomantic-ui-less/definitions/modules/accordion.js\";\nimport * as fomaticSidebar from \"fomantic-ui-less/definitions/modules/sidebar.js\";\nimport * as fomaticDimmer from \"fomantic-ui-less/definitions/modules/dimmer.js\";\nimport * as fomaticCheckbox from \"fomantic-ui-less/definitions/modules/checkbox.js\";\nimport * as fomaticSlider from \"fomantic-ui-less/definitions/modules/slider.js\";\nimport * as fomaticPopup from \"fomantic-ui-less/definitions/modules/popup.js\";\nimport * as fomaticEmbed from \"fomantic-ui-less/definitions/modules/embed.js\";\nimport * as fomaticProgress from \"fomantic-ui-less/definitions/modules/progress.js\";\nimport * as fomaticToast from \"fomantic-ui-less/definitions/modules/toast.js\";\nimport * as fomaticSite from \"fomantic-ui-less/definitions/globals/site.js\";\n\n/**\n * Set up jQuery plugins. SemanticUI jQuery plugins are brought in piecemeal,\n * through separate dependencies. This allows for a smaller footprint.\n */\nexport function configure_jquery_plugins() {\n  jquery.fn.site(\"normalize\");\n  jquery.fn.tabs = jquery_tabmenu;\n  // ``tabmenu`` was ported from our website, but ``tabs`` is nicer\n  jquery.fn.tabmenu = jquery_tabmenu;\n  jquery.fn.plausible = jqueryPlausible;\n}\n\n/**\n * Set up Knockout plugins for interacting with HTML templates\n */\nexport function configure_knockout_plugins() {\n  ko.bindingHandlers.htmlInit = htmlInit;\n  ko.bindingHandlers.textInit = textInit;\n  ko.bindingHandlers.jsonInit = jsonInit;\n  ko.bindingHandlers.valueInit = valueInit;\n  ko.bindingHandlers.element = element;\n  ko.bindingHandlers.chart = chart;\n  ko.bindingHandlers.popup = popup;\n  ko.bindingHandlers.semanticui = semanticui;\n  ko.bindingHandlers.webcomponent = webcomponent;\n}\n\n/**\n * Binding for initializing an observable using the inner HTML of an element.\n */\nexport const htmlInit = add_init_handler(\n  (element) => {\n    return element.innerHTML;\n  },\n  (property) => {\n    return { html: property };\n  },\n);\n\n/**\n * Binding for initializing an observable using the inner text (the child text\n * nodes) of an element.\n */\nexport const textInit = add_init_handler(\n  (element) => {\n    return element.innerText;\n  },\n  (property) => {\n    return { text: property };\n  },\n);\n\n/**\n * Binding for initializing an observable from the ``value`` attribute of an\n * element -- for example a form ``<input>`` element.\n */\nexport const valueInit = add_init_handler(\n  (element) => {\n    return element.value;\n  },\n  (property) => {\n    return { value: property };\n  },\n);\n\n/**\n * JSON binding for writing JSON configuration objects in HTML and initializing\n * the value in a Knockout observable. This is used to transfer configuration\n * from Django and Django template tags, into our front end code.\n *\n * This binding does not set anything, it is only used to initialize an\n * observable on page load.\n *\n * Usage:\n *\n * .. code:: html\n *\n *     <script type=\"application/json\" data-bind=\"jsonInit: config\">\n *     {\"url\": \"https://example.com/api/v3/projects/1234\"}\n *     </script>\n *\n * In turn, there should be a Knockout observable ``config`` in the view:\n *\n * .. code:: javascript\n *\n *     self.config = ko.observable()\n *     self.url = ko.computed(() => {\n *       return self.config().url;\n *     })\n */\nexport const jsonInit = add_init_handler((element) => {\n  try {\n    return JSON.parse(element.innerHTML);\n  } catch (err) {\n    console.error(err);\n    return {};\n  }\n});\n\nfunction add_init_handler(getter, setter) {\n  return {\n    init: function (element, valueAccessor, allBindingsAccessor, data) {\n      const property = valueAccessor();\n      const value = getter(element);\n\n      // Create the observable, if it doesn't exist\n      if (!ko.isWriteableObservable(property)) {\n        throw new Error(\"Property not found:\", property);\n      }\n\n      property(value);\n\n      if (setter) {\n        ko.applyBindingsToNode(element, setter(property));\n      }\n    },\n  };\n}\n\nexport const element = {\n  init: function (element, value_accessor) {\n    var property = value_accessor();\n    property(element);\n  },\n};\n\n/**\n * Chart binding used in a couple views to instantiate chartjs on a ``<canvas>``.\n * This plugin loads chartjs, which is rather large, via an async import in\n * Webpack. This will load the chartjs and dependencies separately from the rest\n * of our application code.\n *\n * Usage:\n *\n * .. code:: html\n *\n *    <canvas width=\"400\" height=\"150\" data-bind=\"chart: config\"></canvas>\n *    <script type=\"application/json\" data-bind=\"jsonInit: config\">\n *    {...}\n *    </script>\n */\nexport const chart = {\n  init: function (element, value_accessor) {\n    var property = value_accessor();\n\n    // Dynamic webpack import of library. This will trigger a new request.\n    import(\n      /* webpackChunkName: \"chartjs\" */\n      \"chart.js\"\n    ).then(({ default: chartjs }) => {\n      let config = property();\n\n      const datasets = config.data.datasets.map((value) => {\n        value.backgroundColor = \"rgb(65, 131, 196, 0.8)\";\n        value.borderColor = \"rgb(65, 131, 196, 1)\";\n        value.pointBorderColor = \"rgb(65, 131, 196, 1)\";\n        value.borderWidth = \"1px\";\n        return value;\n      });\n\n      config.data.datasets = datasets;\n      const chart = new chartjs(element, config);\n    });\n  },\n};\n\n/**\n * Popup plugin for configuring SUI popups. This can be replaced by\n * :func:`semanticui`.\n */\nexport const popup = {\n  init: (element, value_accessor, bindings, view, context) => {\n    const config = Object.assign(\n      {\n        hoverable: true,\n        delay: {\n          show: 300,\n          hide: 100,\n        },\n        exclusive: true,\n        onHide: () => {\n          context.$rawData.hide();\n        },\n      },\n      value_accessor(),\n    );\n    const jq_element = jquery(element);\n    jq_element.popup(config).hover(() => {\n      context.$rawData.show();\n    });\n  },\n};\n\n/**\n * Web component bridge binding\n *\n * This binding is used to help bridge Knockout views and web components, but\n * allowing observables to set web component attributes when updated.\n *\n * It's important to note that there is likely a bit of extra overhead here as\n * both Knockout and Lit have differing patterns for property/observable\n * lifecycles. That is, Knockout will process the observable change with\n * multiple calls, and then pass the value off to the LitElement, which will do\n * its own round of internal calls to update the property value.\n *\n * Either way, this binding can help with the transition to web components.\n *\n * With an underlying Knockout view, a web component property can be updated\n * with this data binding like so:\n *\n * .. code:: html\n *\n *     <readthedocs-foo data-bind=\"webcomponent: {someProperty: someObservable}\">\n *\n * In the above example here, the web component property ``someProperty`` is\n * updated by the Knockout view observable ``someObservable``. When there is an\n * update to the observable in the Knockout view, this property will then be\n * updated on the web component. This can be a full object, this pattern is not\n * limited to data primitives, like when using web components from HTML.\n */\nexport const webcomponent = {\n  update: (element, value_accessor, all_bindings) => {\n    const binding_value = ko.unwrap(value_accessor());\n    for (const [key, value] of Object.entries(binding_value)) {\n      if (value !== undefined) {\n        if (typeof value === \"function\") {\n          console.error(\"Unsupported function in data binding\");\n        } else {\n          element[key] = value;\n        }\n      }\n    }\n  },\n};\n\n/**\n * Knockout binding for calling SemanticUI jQuery plugins on individual elements\n *\n * This binding provides direct access to all of the SemanticUI jQuery plugins\n * provided by each of the SemanticUI module units.\n *\n * Each key passed into the ``semanticui`` binding represents a module plugin\n * that will be called by the data binding. For example, a data binding that\n * initializes ``popup()`` and ``modal()`` module plugins is:\n *\n * .. code:: html\n *\n *     <div data-bind=\"semanticui: { popup: {'on': 'click'}, modal: {'closable': false}}\">\n *\n * Which would be the following if using the standard jQuery initialization\n * pattern described by SUI guides:\n *\n * .. code:: js\n *\n *     $(element).popup({\"on\": \"click\"});\n *     $(element).modal({\"closable\": false});\n *\n * Passing arguments\n * -----------------\n *\n * There are three available patterns you can use for passing arguments into the\n * plugin methods:\n *\n * A literal value inside the data binding attribute in template code\n *   The simplest option, useful if arguments are fairly basic.\n *\n * An observable in the data binding attribute\n *   This is useful when the arguments passed into the plugin method are\n *   complex or conditional.\n *\n * An anonymous function through an observable\n *   This is for advanced cases and the best pattern for using SUI module\n *   behaviors.\n *\n * Literal value\n * ~~~~~~~~~~~~~\n *\n * If you only need to pass basic arguments into the plugin, you can do so in\n * template code without any further JS:\n *\n * .. code:: html\n *\n *     <a class=\"ui item\" data-bind=\"semanticui: {popup: {on: 'click'}}\">\n *\n * To compare this to the standard initialization pattern described by the SUI\n * documentation, which relies on jQuery for targeting:\n *\n * .. code:: js\n *\n *     $(element).popup({on: \"click\"});\n *\n * Observable value\n * ~~~~~~~~~~~~~~~~\n *\n * For complex and conditional arguments, it's usually better to pass an\n * observable to the binding for the module plugin. Because we will be creating\n * observables, this requires a view class. Inside the view class, an\n * observable can be declared:\n *\n * .. code:: js\n *\n *     this.popup_config = ko.computed(() => {\n *       return {\n *         label: this.example_observable(),\n *         on: \"click\",\n *       }\n *     });\n *\n * Our template code would reference the observable instead of a literal:\n *\n * .. code:: html\n *\n *     <a class=\"ui item\" data-bind=\"semanticui: {popup: popup_config()}\">\n *\n * .. seealso::\n *     :func:`BuildDetailView.progress_config`\n *       An example of an observable passing arguments to the ``progress()``\n *       module jQuery plugin.\n *\n * Anonymous function\n * ~~~~~~~~~~~~~~~~~~\n *\n * For deep usage of the SUI module jQuery plugins, you can also set an\n * observable to an anonymous function value to use the plugin method directly\n * on an individual element. This binding will call into that function with the\n * jQuery plugin method exposed as a function as the only argument.\n *\n * With the template code still using an observable in the data binding on the\n * view layer, an observable using an anonymous function instead would be:\n *\n * .. code:: js\n *\n *     this.popup_config = ko.observable((popup) => {\n *       popup({\n *         label: \"Test\",\n *         on: \"click\",\n *       });\n *     });\n *\n * This is most helpful for utilizing SUI module *behaviors*. Behaviors are\n * listed on most SUI modules, such as:\n * https://fomantic-ui.com/modules/popup.html#behavior\n *\n * To now call module behaviors from this observable:\n *\n * .. code:: js\n *\n *     this.popup_config((popup) => popup(\"show\"));\n *\n * It's also possible to mix these patterns and call behaviors more than once.\n * For example a progress bar that progressively updates can mix both plugin\n * initialization and subsequent behavior calls after initialization:\n *\n * .. code:: js\n *\n *     this.progress_config = ko.computed(() => {\n *       if (ko.computedContext.isInitial()) {\n *         // First call, initialize the module\n *         return {\n *           total: 10,\n *         }\n *       } else {\n *         return (progress) => {\n *           progress(\"set progress\", self.value());\n *         }\n *       }\n *     });\n *\n */\nexport const semanticui = {\n  update: (element, value_accessor, all_bindings) => {\n    const binding_value = ko.unwrap(value_accessor());\n    const jq_element = jquery(element);\n    for (const [key, value] of Object.entries(binding_value)) {\n      if (value !== undefined) {\n        if (typeof value === \"function\") {\n          const callback = (behavior, ...args) => {\n            console.debug(\n              \"Calling SemanticUI component behavior:\",\n              key,\n              element,\n              behavior,\n              ...args,\n            );\n            jq_element[key](behavior, ...args);\n          };\n          value(callback);\n        } else {\n          if (key === \"modal\") {\n            // We do something fun here and move the element into ``body``\n            // before the SUI initialization. The reason for this is that SUI\n            // will move the element automatically already, however when it\n            // does the KO bindings are all re-evaluated. This will cause\n            // exceptions to be thrown around duplicate binding definitions. To\n            // make the ``modal`` module play with KO nicely, we mark the modal\n            // as _not detachable_, meaning SUI won't move the element when\n            // initializing, and move the element manually so that the\n            // positioning is relative to ``body`` instead of being relative to\n            // the modal element's parent element. If detachable is manually\n            // configured, throw an error.\n            if (value.detachable == true) {\n              throw new Error(\n                \"Setting a modal as detachable is not supported by the semanticui binding.\",\n              );\n            }\n            value.detachable = false;\n            document.body.prepend(element);\n          }\n          // The value is probably an object, and is almost certainly a module\n          // configuration for initializing the module\n          console.debug(\n            \"Setting up SemanticUI component:\",\n            key,\n            value,\n            element,\n          );\n          jq_element[key](value);\n        }\n\n        // Set attribute for CSS selector on element. This is used to avoid\n        // initializing SUI jQuery plugins twice on elements.\n        jq_element.attr(\"data-semanticui-\" + key, true);\n      }\n    }\n  },\n};\n\n/**\n * Plausible tracking module\n *\n * This reuses jQuery to provide explicit tracking of events at Plausible. To\n * use events, add the ``data-analytics-events`` attribute to an element. In most\n * cases, this should be a link element, however in the case of other UI\n * components, it may be a ``<div>`` or ``<button>``\n *\n * You may also define custom event properties with\n * ``data-analytics-property-*`` attributes, the attribute value is passed to\n * Plausible.\n *\n *     <button class=\"ui button\"\n *            data-analytics-events=\"some-event-id,another-id\"\n *            data-analytics-property-foo=\"bar\">\n *       Something\n *     </button>\n *\n * In the case of a link with a ``href`` attribute, the link click event will\n * continue after all events have been tracked at Plausible, or after a 1s\n * timeout passes.\n */\nfunction jqueryPlausible(domain, debug = false) {\n  let plausibleSettings = { domain: domain };\n  if (debug === true) {\n    plausibleSettings.trackLocalhost = true;\n  }\n  const { trackEvent } = Plausible(plausibleSettings);\n  const { trackPageview } = Plausible(plausibleSettings);\n\n  // Track pageview for all pages\n  trackPageview();\n\n  return this.each((index, elem) => {\n    // ``data-analytics`` is used on the website, but we added some more\n    // functionality here so ``data-analytics-events`` is preferred.\n    const data = jquery(elem).data();\n    const eventNames =\n      data.analyticsEvents?.split(/,/) || data.analytics?.split(/,/) || [];\n    const eventProperties = {};\n\n    // ``data-analytics-property-*`` attributes are used to populate properties.\n    Object.keys(data).forEach((key) => {\n      const match = key.match(/analyticsProperty(.*)/);\n      if (match) {\n        const [_, property] = match;\n        eventProperties[property.toLowerCase()] = data[key];\n      }\n    });\n\n    function handleAnalyticsEvent(event) {\n      const isLink =\n        elem.tagName != undefined && elem.tagName.toLowerCase() == \"a\";\n      const isMiddleClick = event.type == \"auxclick\" && event.which == 2;\n      const isClick = event.type == \"click\";\n      const isLinkClick =\n        isLink &&\n        isClick &&\n        !elem.target &&\n        !(event.ctrlKey || event.metaKey || event.shiftKey);\n\n      if (isMiddleClick || isClick) {\n        Promise.all(\n          eventNames.map((eventName) => {\n            return new Promise((resolve, reject) => {\n              const options = { callback: resolve, props: eventProperties };\n              trackEvent(eventName, options);\n              // Fallback timeout\n              setTimeout(() => {\n                reject();\n              }, 1000);\n            });\n          }),\n        )\n          .catch((e) => {\n            console.debug(\n              \"Plausible didn't receive a response for one or more event\",\n            );\n          })\n          .finally(() => {\n            console.debug(\n              \"Plausible tracked events:\",\n              eventNames,\n              eventProperties,\n            );\n            if (isLinkClick && elem.href && elem.href != \"#\") {\n              console.debug(\"Plausible replaying click event\", elem.href);\n              window.location = elem.href;\n            }\n          });\n      }\n\n      // If this is a normal click of an anchor element, prevent the default\n      // event from propagating and instead wait until the callback\n      // returns/expires to redirect the current page URL. If the user held\n      // control/shift/meta while clicking, we're assuming the browser is doing\n      // something special instead and will not block the default event.\n      if (isLinkClick) {\n        event.preventDefault();\n        return false;\n      }\n    }\n\n    // TODO support other methods than click\n    elem.addEventListener(\"click\", handleAnalyticsEvent);\n    elem.addEventListener(\"auxclick\", handleAnalyticsEvent);\n  });\n}\n\n/**\n * Tab group SUI module helper\n *\n * The tab module is instantiated in a unique way that conflicts with the normal\n * patterns used for instantiating FUI modules here. Instead of being called on\n * a singular element, the tab module is called on child elements of a menu.\n * That is, the tab module would normally be set up on multiple modules at a\n * time with ``$(\".ui.menu > .item\").tab({...})``.\n *\n * Calling the module on multiple ``.item`` elements in a query is important,\n * or we end up instantiating a tab menu for each menu item and the tab menu\n * does not work correctly.\n *\n * In short, this consolidates the tab module instantiation onto a query\n * instead of a singular element like the ``semanticui`` data binding normal\n * would.\n */\nfunction jquery_tabmenu(settings) {\n  return this.each((index, elem) => {\n    $(elem).find(\".item\").tab(settings);\n  });\n}\n","import ko from \"knockout\";\n\n/**\n * Registry pattern for views, to accumulate public views for templates\n *\n * To avoid using a routing library, or treating this JS as a single page\n * application on top of a Django backend, we simply will make all views\n * available to all templates. This registry ultimately attaches to the\n * main :class:`ApplicationView` instance, and all views will be available in\n * that bound context.\n *\n * See :class:`ApplicationView` here for examples and more information\n */\nexport class Registry {\n  static views = {};\n\n  /**\n   * Add view to registry. View should have ``view_name`` proprety defined.\n   *\n   * A ``view_name`` attribute is required as the class name will change when\n   * the sources are minified.\n   *\n   * @param {class} view - Knockout view to expose to the application\n   */\n  static add_view(view) {\n    if (view.name === undefined) {\n      console.error(\"View view_name is unspecified\", view);\n      return;\n    }\n    this.views[view.view_name] = (...params) => {\n      console.debug(\"Loading view with parameters:\", view.view_name, params);\n      // ignoreDependencies is needed here or the context used by the subview\n      // is incorrect\n      return ko.ignoreDependencies(() => {\n        return new view(...params);\n      }, this);\n    };\n  }\n\n  /**\n   * Attach all of the registered views to a view, almost always, the root\n   * application view.\n   *\n   * @param {ApplicationView} view - View to attach to\n   */\n  attach(view) {\n    for (const [view_name, view_class] of Object.entries(\n      this.constructor.views,\n    )) {\n      view[view_name] = view_class;\n    }\n  }\n}\n","import ko from \"knockout\";\nimport { msg } from \"@lit/localize\";\n\nimport { Registry } from \"../application/registry\";\n\n/**\n * Listing view for social account connections.\n *\n * This view is subclassed by the :js:cls:`LoginView`, as the templates that\n * use this code are shared between the social account connection listing view\n * and the login view. On the social account listing we don't want the same\n * features for last login method etc so this view overloads the functions\n * used.\n */\nexport class SocialAccountView {\n  static view_name = \"SocialAccountView\";\n\n  constructor(options) {\n    this.github_modal_config = ko.observable();\n  }\n\n  show_github_modal() {\n    this.github_modal_config((modal) => modal(\"show\"));\n  }\n\n  // No-op to skip popup setup\n  popup_login_method() {}\n\n  save_login_method() {\n    return true;\n  }\n}\n\n/**\n * LoginView saves a cookie for the last login method.\n *\n * Usage:\n *\n * .. code:: html\n *\n *   <div data-bind=\"using: LoginView()\">\n *     <form method=\"post\" action=\"...\">\n *       <button data-bind=\"click: save_login_method.bind($data, 'email'), semanticui: { popup: popup_login_method('email') }\">\n *         Log in using GitHub\n *       </button>\n *     </form>\n *   </div>\n */\nexport class LoginView extends SocialAccountView {\n  static view_name = \"LoginView\";\n\n  constructor(options) {\n    super(options);\n\n    /** @observable {string} Last tab to be selected. Comes from view */\n    this.last_tab = ko.observable(options?.last_tab || \"vcs\");\n    /** @observable {string} Last method to be used. Comes from view */\n    this.last_method = ko.observable(options?.last_method);\n\n    // This is an named lookup for observables, one for each method. It is\n    // populated by the template code as each popup is configured.\n    this.popups = {};\n  }\n\n  /**\n   * Add popup for login method\n   *\n   * This adds an observable using by the semanticui binding to add and\n   * manipulate a popup module on the element.\n   *\n   * Accepts multiple method ids just because we have a GitHub sub-modal right\n   * now. This can be removed eventually.\n   *\n   * @param {string|Array.<string>} method - Method id or list of method ids\n   * @param {string} position - Position to pass to SUI popup position attribute\n   * @param {string} method - Method id\n   */\n  popup_login_method(method, position = \"top center\") {\n    this.popups[method] = ko.observable((popup) => {\n      // First set up the element as a manual popup, then manually show it.\n      // This is using the anonymous function pattern for passing arguments to\n      // the ``popup()`` jQuery plugin binding, via :func:`application.plugins.semanticui`\n      popup({\n        content: msg(`Last used`),\n        position: position,\n        variation: \"mini teal\",\n        closable: true,\n        preserve: true,\n        on: \"manual\",\n      });\n      if (!Array.isArray(method) && this.last_method() == method) {\n        popup(\"show\");\n      } else if (Array.isArray(method) && method.includes(this.last_method())) {\n        popup(\"show\");\n      }\n    });\n    return this.popups[method]();\n  }\n\n  /**\n   * Save a cookie to track last login method.\n   *\n   * This could be used like:\n   *\n   * .. code:: html\n   *\n   *     <form method=\"post\" action=\"...\">\n   *       <button data-bind=\"click: save_login_method.bind($data, 'email')\">\n   *         Log in using GitHub\n   *       </button>\n   *     </form>\n   *\n   * @param {string} method - Method id\n   * @returns {knockout_click}\n   */\n  save_login_method(method) {\n    console.debug(\"Saving last login method:\", method);\n    let cookie = `last-login-method=${method}`;\n    if (window.isSecureContext) {\n      cookie = cookie + `; Secure`;\n    }\n    document.cookie = cookie;\n    return true;\n  }\n\n  // On top of showing the GitHub modal, show any popups for GitHub providers as\n  // well. This avoids requiring the popups to always be visible and avoids\n  // manual removal of the popups.\n  show_github_modal() {\n    super.show_github_modal();\n    const last_method = this.last_method();\n    if ([\"github\", \"githubapp\"].includes(last_method)) {\n      this.popups[last_method]((popup) => popup(\"show\"));\n    }\n  }\n}\n\nRegistry.add_view(SocialAccountView);\nRegistry.add_view(LoginView);\n","// Build - detail view\n\nimport jquery from \"jquery\";\nimport ko from \"knockout\";\nimport dayjs from \"dayjs\";\nimport RelativeTime from \"dayjs/plugin/relativeTime\";\nimport Duration from \"dayjs/plugin/duration\";\nimport LocalizedFormat from \"dayjs/plugin/localizedFormat\";\n\nimport { Registry } from \"../application/registry\";\n\ndayjs.extend(RelativeTime);\ndayjs.extend(Duration);\ndayjs.extend(LocalizedFormat);\n\n/** Build command output subview, represented in :class:`BuildCommand` as an\n * array of output lines.\n *\n * @param {Object} build_command_output - BuildCommand APIv2 data\n */\nclass BuildCommandOutput {\n  constructor(build_command_output) {\n    /** The command that was executed\n     * @type {string} */\n    this.command = build_command_output.command;\n    /** @observable {string} Build command output line */\n    this.output = ko.observable(build_command_output.output);\n    /** Command output line number provided by :class:`BuildCommand`.\n     * @observable {number} Command output line number */\n    this.line_number = ko.observable(build_command_output.line_number);\n    /** Computed observable for the achor id, the linkable element in the UI.\n     * The anchor matches the syntax ``12--123``, which is the command index in\n     * the array of commands, and the command output line number index in the\n     * array of command output lines.\n     * @computed {string} Anchor id in the syntax ``12--123`` */\n    this.anchor_id = ko.computed(() => {\n      return this.command.id() + \"--\" + this.line_number();\n    });\n\n    /** @observable {Boolean} Is the line selected/highlighted. Selected lines\n     * are lines that are linked to via URL hash */\n    this.is_selected = ko.observable(false);\n  }\n}\n\n/**\n * Build command subview. :class:`BuildDetailView` retains an array of\n * :class:`BuildCommand` objects for display. This class uses an array of\n * :class:`BuildCommandOutput` objects to display individual lines of output.\n *\n * @param {Object} build_command - APIv2 build command data\n */\nclass BuildCommand {\n  constructor(build_command) {\n    // Remove the full path from build command display, and hack debug flag\n    // TODO rely on debug flag from build model when it's added\n    const re_command_trim =\n      /(\\/usr\\/src\\/app|\\/home\\/docs)\\/checkouts\\/readthedocs.org\\/user_builds\\/[^\\/]+\\/[^\\/]+\\/[^\\/]+\\//g;\n    let command = build_command.command.replace(re_command_trim, \"\");\n    let looks_like_debug = false;\n    if (build_command.is_debug === undefined) {\n      const re_commands = /^(pip freeze|cat .*conf.py)$/;\n      looks_like_debug = command.match(re_commands);\n    }\n    const is_debug = build_command.is_debug || looks_like_debug;\n\n    /** @observable {number} Build command id */\n    this.id = ko.observable(build_command.id);\n    /** @observable {string} Build command executed */\n    this.command = ko.observable(command);\n    /** @observable {number} Build command posix exit code */\n    this.exit_code = ko.observable(build_command.exit_code || 0);\n    /** @computed {Boolean} Was :func:`exit_code` successful? */\n    this.is_successful = ko.computed(() => {\n      return this.exit_code() === 0;\n    });\n    /** @computed {Boolean} Did command emit exit code 183? */\n    this.is_cancelled = ko.computed(() => {\n      return this.exit_code() === 183;\n    });\n    /** @observable {number} Command run time in seconds */\n    this.run_time = ko.observable(build_command.run_time);\n    /** @observable {number} Command end time in seconds */\n    this.end_time = ko.observable(build_command.end_time);\n    /** @computed {Boolean} Command is finished running? */\n    this.finished = ko.computed(() => {\n      return this.end_time() !== null;\n    });\n    /** @computed {Boolean} This command is a debug class command */\n    this.is_debug = ko.observable(is_debug);\n    /** @computed {Boolean} Hide debug commands until debug mode is enabled */\n    this.is_visible = ko.computed(\n      () => {\n        if (this.is_debug()) {\n          return false;\n        } else {\n          return true;\n        }\n      },\n      null,\n      { deferEvaluation: true },\n    );\n    /** @computed {string} Command text class */\n    this.command_class = ko.computed(() => {\n      if (this.is_debug()) {\n        return \"grey\";\n      } else if (this.is_cancelled()) {\n        return \"yellow\";\n      } else {\n        return this.is_successful() ? \"olive\" : \"red\";\n      }\n    });\n\n    /** @observable {Boolean} Is this command expanded? */\n    this.is_expanded = ko.observable(false);\n    this.exit_code.subscribe((exit_code) => {\n      if (exit_code !== undefined && exit_code > 0) {\n        this.is_expanded(true);\n      }\n    });\n\n    /** @observable {string} Raw command output */\n    this.output = ko.observable();\n    /** @computed {Array.<BuildCommandOutput>} Split output lines */\n    this.output_lines = ko.computed(\n      () => {\n        const output_lines = this.output().split(/\\n/);\n\n        return output_lines.map((line, index) => {\n          return new BuildCommandOutput({\n            command: this,\n            output: line,\n            line_number: index + 1,\n          });\n        });\n      },\n      null,\n      { deferEvaluation: true },\n    );\n\n    this.output(build_command.output);\n    // TODO color output is disabled for now. This needs to be async due to the\n    // extra libraries loaded, and should block page load, polling, and updating\n    // the selected line. This also requires an application change.\n    // this.color_output(build_command.output);\n  }\n\n  /**\n   * Add ANSI coloring and other fun to output string. Modules used here are\n   * dynamically loaded separate from the normal vendor bundle. This is to\n   * reduce the size of the standard vendor bundle.\n   *\n   * @param {string} output - The output string to colorize\n   * @returns {Promise}\n   */\n  color_output(output) {\n    // Dynamically load expensive chunks. These will be kept out of the normal\n    // vendor bundle.\n    return import(\n      /* webpackChunkName: 'ansi_up' */\n      \"ansi_up\"\n    ).then(({ default: AnsiUp }) => {\n      // Build output lines\n      let ansi_up = new AnsiUp();\n      ansi_up.use_classes = true;\n      output = ansi_up.ansi_to_html(output);\n      // TODO use dompurify here\n      //output = DOMPurify.sanitize_html(output);\n      return output;\n    });\n  }\n\n  /**\n   * Toggle :func:`is_expanded`, used to expand command output\n   *\n   * This is triggered by a click event, so ``false`` is returned to avoid\n   * default behavior and event propagation.\n   */\n  toggle_expanded() {\n    this.is_expanded(!this.is_expanded());\n    return false;\n  }\n}\n\n/**\n * Build detail view shows build metadata, build commands, and build command\n * output. In most cases you are only passing in the build pk, and relying on\n * the API to fill in the rest of the build data.\n *\n * Usage from a Django template:\n *\n * .. code:: html\n *\n *     <div data-bind=\"using: BuildDetailView({id: {{ build.pk }}}, '{% url ... %}', '{% url ... %}')\"></div>\n *\n * @param {Object} build - API data for a build.\n */\nexport class BuildDetailView {\n  static view_name = \"BuildDetailView\";\n\n  constructor(build = {}, url_api_build, url_api_notifications) {\n    /** @type {number} The build pk/id to fetch */\n    this.id = build.id;\n    /** @type {string} APIv2 build detail API URL */\n    this.url_api_build = url_api_build;\n    /** @type {string} APIv3 build notification API URL */\n    this.url_api_notifications = url_api_notifications;\n\n    /** @observable {Boolean} Was for successful build or not */\n    this.success = ko.observable(build.success);\n    /** @observable {string} Build error message */\n    this.error = ko.observable(build.error);\n    /** @observableArray {Object} List of notifications from API */\n    this.notifications = ko.observableArray();\n    /** @computed {Boolean} Has notifications? */\n    this.has_notifications = ko.computed(() => {\n      return this.notifications().length > 0;\n    });\n\n    /** @obsevable {string} Build state */\n    this.state = ko.observable(build.state);\n    /** @observable {string} Build state as a display string */\n    this.state_display = ko.observable(build.state_display);\n\n    // State helpers that are not modeled from the backend API\n    /** @observable {Boolean} Is the build in a finished state? */\n    this.is_finished = ko.observable(false);\n    /** @observable {Boolean} Have we received data from the API yet? */\n    this.is_loading = ko.observable(true);\n    /** @observable {Boolean} Build can be cancelled */\n    this.can_cancel = ko.observable(false);\n    /** @observable {Boolean} Build can be retried */\n    this.can_retry = ko.observable(false);\n    /** @observable {Boolean} There was doc output in the build */\n    this.can_view_docs = ko.observable(false);\n\n    /** @observable {Boolean} Is the command output wrapped? */\n    this.is_wrapped = ko.observable(true);\n\n    // Consolidate all of the observable updates that depend on build state\n    this.state.subscribe((state) => {\n      this.update_state(state);\n    });\n\n    /** SUI progress module config/behavior\n     * @computed {Object or Function} the parameters to pass to the module call\n     *\n     * See the `semanticui` Knockout plugin for more information */\n    this.progress_config = ko\n      .computed(() => {\n        const state = this.state();\n        const states = [\n          \"triggered\",\n          \"queued\",\n          \"cloning\",\n          \"installing\",\n          \"building\",\n          \"uploading\",\n          \"finished\",\n        ];\n        // If this is the first update, configure the module. If this is an\n        // update, then send progress updates using module behaviors instead.\n        if (ko.computedContext.isInitial()) {\n          return {\n            autoSuccess: false,\n            value: states.indexOf(state),\n            total: states.length - 1,\n            label: this.state_display(),\n          };\n        } else {\n          if (this.is_finished()) {\n            const is_cancelled = state === \"cancelled\";\n            const is_failed = this.error() || this.success() === false;\n            if (is_cancelled) {\n              return (progress) => {\n                progress(\"set warning\", \"Build cancelled\");\n              };\n            } else if (is_failed) {\n              return (progress) => {\n                // TODO translate this in the application or templates\n                progress(\"set error\", \"Build failed\");\n              };\n            } else {\n              return (progress) => {\n                // TODO translate this in the application or templates\n                progress(\"set success\", \"Build succeeded\");\n              };\n            }\n          } else {\n            return (progress) => {\n              progress(\"set progress\", states.indexOf(state));\n              progress(\"set label\", this.state_display());\n            };\n          }\n        }\n      })\n      .extend({\n        // Debounce API updates, so we aren't triggering this once for each\n        // observable update -- from the API response for example.\n        deferred: true,\n      });\n\n    // Date and time manipulation\n    /* @observable {number} Build date ... as integer? TBD */\n    this.date = ko.observable(build.date);\n    /* @observable {number} Build length in seconds */\n    this.length = ko.observable(build.length);\n    /* @observable {string} Build date display in a localized format */\n    this.date_display = ko.observable();\n    /* @observable {string} Build date as a relative format */\n    this.date_display_since = ko.observable();\n    /* @observable {string} Build length in a human readable format */\n    this.length_display = ko.observable();\n\n    this.date.subscribe((date) => {\n      const date_readable = dayjs(date);\n      this.date_display(date_readable.format(\"llll\"));\n      this.date_display_since(date_readable.fromNow());\n    });\n    this.length.subscribe((length) => {\n      let duration;\n      if (length) {\n        duration = dayjs.duration(length, \"seconds\");\n      } else {\n        // Infer length from build start time\n        const dateNow = dayjs();\n        const dateStart = dayjs(this.date());\n        duration = dayjs.duration(dateNow.diff(dateStart));\n      }\n      let formatParts = [\"s[s]\"];\n      if (duration.minutes()) {\n        formatParts.unshift(\"m[m]\");\n      }\n      if (duration.hours()) {\n        formatParts.unshift(\"H[h]\");\n      }\n      this.length_display(duration.format(formatParts.join(\" \")));\n    });\n\n    /* Output */\n    /** @observable {Object} Build configuration used for the build */\n    this.config = ko.observable();\n    /** @observable {string} The build instance to process the build */\n    this.builder = ko.observable(build.builder);\n    /** @observable {Array.<Object>} Build command objects as an array */\n    this.commands = ko.observableArray(build.commands);\n\n    /** @observable {string} Repository commit for the build */\n    this.commit = ko.observable(build.commit);\n    /** @computed {string} A truncated version of the build commit */\n    this.commit_short = ko.computed(() => {\n      let commit = this.commit();\n      if (commit) {\n        return commit.substring(0, 8);\n      }\n    });\n    /** @observable {string} URL for build's documentation */\n    this.docs_url = ko.observable(build.docs_url);\n    /** @observable {string} URL for build commit */\n    this.commit_url = ko.observable(build.commit_url);\n\n    /* Others */\n    /** This is old old build output, before we were separating commands by\n     * build command and just lumping evertying by STDOUT/STDERR. Oooof. We\n     * don't want to show these, and probably just want to show a \"Sorry, this\n     * is too old\" error.\n     * @observable {Boolean} Build output doesn't have build commands */\n    this.legacy_output = ko.observable(false);\n\n    // Selected line handling\n    /** The selected command and command line are updated when the window hash\n     * (anchor) changes. The hash is meant to be in the format of ``12--123``,\n     * which is the command id and the command id output line number.\n     * @observable {string} The window hash/anchor */\n    this.selected_hash = ko.observable(jquery(location).attr(\"hash\"));\n    this.selected_hash.subscribe((selected_hash) => {\n      jquery(location).attr(\"hash\", selected_hash);\n    });\n    /** @observable {BuildCommandOutput} The command line found from the selected hash*/\n    this.selected_line = ko.observable();\n    // Remove the selected state on the current/old selected line\n    this.selected_line.subscribe(\n      (selected_line_prev) => {\n        if (selected_line_prev) {\n          selected_line_prev.is_selected(false);\n        }\n      },\n      this,\n      \"beforeChange\",\n    );\n    // Update the new selected line\n    this.selected_line.subscribe((selected_line) => {\n      if (selected_line.command.is_debug()) {\n        this.show_debug(true);\n      }\n      selected_line.command.is_expanded(true);\n      selected_line.is_selected(true);\n      this.selected_hash(selected_line.anchor_id());\n    });\n\n    /* Debug */\n    /** @observable {Boolean} Show debug/info commands */\n    this.show_debug = ko.observable(false);\n\n    /** @observable {Boolean} Are we still polling the API? */\n    this.is_polling = ko.observable(true);\n    this.is_polling.subscribe((is_polling) => {\n      if (!is_polling) {\n        this.set_selected_line_from_hash(this.selected_hash());\n      }\n    });\n\n    if (this.url_api_build) {\n      this.poll_api_build();\n    }\n    if (this.url_api_notifications) {\n      this.poll_api_notifications();\n    }\n  }\n\n  /**\n   * Continually poll our APIv2 for build object and update Build, BuildCommand,\n   * and BuildCommandOutput states. When the API return indicates the build is\n   * finished, we stop recursive polling.\n   */\n  poll_api_build() {\n    jquery\n      .getJSON(this.url_api_build)\n      .then((data) => {\n        this.date(data.date);\n        this.success(data.success);\n        this.error(data.error);\n        this.length(data.length);\n        this.commit(data.commit);\n        this.docs_url(data.docs_url);\n        this.commit_url(data.commit_url);\n        this.builder(data.builder);\n        this.config(data.config);\n        this.state(data.state);\n        this.state_display(data.state_display);\n\n        // Always update date and length, as these should update as the build progresses\n        this.date.valueHasMutated();\n        this.length.valueHasMutated();\n\n        // This is a mock command used to preview the command output.\n        // TODO probably do this in the application instead\n        this.add_command({\n          id: 0,\n          command: \"readthedocs-build --show-config\",\n          output: JSON.stringify(data.config, null, \"  \"),\n          exit_code: 0,\n          run_time: 0,\n          is_debug: true,\n        });\n        for (const command of data.commands) {\n          this.add_command(command);\n        }\n\n        // We've completed a request to the API. From here, we are not loading\n        // from the API, but we'll be polling until the build is finished.\n        this.is_loading(false);\n      })\n      .then(() => {\n        // Continually poll API while build is not finished. If it is in a finished\n        // state, this method will return without setting another timer. We do not\n        // updated :attr:`is_polling` by computed/subscription as we want to ensure\n        // this update happens at the very end of API updates instead.\n        if (this.is_finished()) {\n          this.is_polling(false);\n        } else {\n          setTimeout(() => {\n            this.poll_api_build();\n            this.poll_api_notifications();\n          }, 2000);\n        }\n      });\n  }\n\n  /** Poll APIv3 build notification API directly\n   *\n   * We have to do this because we rely on the build APIv2 for everything else\n   * and the APIv3 build endpoints don't have the data required yet.\n   *\n   * TODO this should all happen under a single build API v3 poll instead, and\n   * this method should go away.\n   *\n   * @param {str} url - APIv3 build notification endpoint\n   */\n  poll_api_notifications() {\n    const params = {\n      state__in: \"read,unread\",\n    };\n    jquery.getJSON(this.url_api_notifications, params).then((data) => {\n      if (data.results) {\n        this.notifications(data.results);\n      }\n    });\n  }\n\n  /** Add a command to :attr:`commands` if it doesn't already exist\n   *\n   * @param {Object} command - Build command API data structure\n   */\n  add_command(command) {\n    const command_found = ko.utils.arrayFirst(\n      this.commands(),\n      (command_search) => {\n        return command_search.id() === command.id;\n      },\n    );\n    if (command_found) {\n      command_found.output(command.output);\n      command_found.exit_code(command.exit_code || 0);\n      command_found.run_time(command.run_time);\n      command_found.end_time(command.end_time);\n    } else {\n      this.commands.push(new BuildCommand(command));\n    }\n  }\n\n  /**\n   * Set the selected line and focus on the new selected element\n   *\n   * This is called from :meth:`set_selected_line_from_hash`, but also from the\n   * line number link click event. We return ``false`` at the end to avoid the\n   * default behavior and event propagation.\n   *\n   * @param {BuildCommandOutput} selected_line - Command output line to target\n   */\n  set_selected_line(selected_line) {\n    this.selected_line(selected_line);\n    // The attribute ``data-selected`` is set in the templates. This isn't\n    // ideal, but easier than a custom KO plugin.\n    const elem = document.querySelector(\"[data-selected=true]\");\n    if (elem) {\n      if (elem.scrollIntoView) {\n        // Try modern centered focus on element, instead of focus at the top of\n        // the viewport.\n        elem.scrollIntoView({\n          behavior: \"auto\",\n          block: \"center\",\n          inline: \"center\",\n        });\n      } else {\n        // Back up to the default focus for old browsers\n        jquery(elem).focus();\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Set the selected line by looking up the line that corresponds to the\n   * selected anchor hash.\n   *\n   * This loops over the commands and lines to reduce the number of operations.\n   * Normally, :attr:`BuildCommandOutput.is_selected` might be a computed\n   * observable, but then updates to the selected line are always O(n), for\n   * every line of output, across all commands. We can reduce this greatly by\n   * iterating over commands, then command lines.\n   *\n   * @param {string} selected_hash - Hash to lookup\n   */\n  set_selected_line_from_hash(selected_hash) {\n    const re_hash = /^#(\\d+)--(\\d+)$/; // (?:$|(\\d+)$)/; // multiple lines!\n\n    if (selected_hash) {\n      let found = selected_hash.match(re_hash);\n\n      if (!found) {\n        return;\n      }\n\n      const selected_command = ko.utils.arrayFirst(\n        this.commands(),\n        (command_search) => {\n          return command_search.id() == found[1];\n        },\n      );\n      if (selected_command) {\n        const selected_line = ko.utils.arrayFirst(\n          selected_command.output_lines(),\n          (output_line) => {\n            return output_line.line_number() == found[2];\n          },\n        );\n\n        if (selected_line) {\n          this.set_selected_line(selected_line);\n        }\n      }\n    }\n  }\n\n  // TODO is this needed? This is likely old view cruft\n  show_legacy_output() {\n    this.legacy_output(true);\n  }\n\n  /** Helper for toggling debug mode on the view. This hides some informational\n   * commands and the configuration file output step */\n  toggle_debug() {\n    const show_debug = this.show_debug();\n    this.show_debug(!show_debug);\n  }\n\n  /** Update all attributes and observables that depend on build state */\n  update_state(state) {\n    // Is build in one of the finished states?\n    if ([\"finished\", \"cancelled\"].includes(state)) {\n      this.is_finished(true);\n      this.can_cancel(false);\n      // TODO there is more logic on whether a build can retry in the\n      // application, but this is not surfaced in the API response.\n      this.can_retry(true);\n\n      if (this.success()) {\n        this.can_view_docs(true);\n      }\n    } else {\n      // We use any other status here to finally update ``can_cancel`` from\n      // it's default of ``false``. The default ensure we don't flash the\n      // button if the API response ends up showing that the build finished.\n      this.can_cancel(true);\n    }\n  }\n}\n\nRegistry.add_view(BuildDetailView);\n","import ko from \"knockout\";\nimport jquery from \"jquery\";\n\nimport { Registry } from \"../application/registry\";\n\n// Constants, pulled from SUI:\n// https://semantic-ui.com/elements/container.html\nconst breakpoints = {\n  mobile: 0,\n  tablet: 768,\n  computer: 992,\n  large_screen: 1200,\n};\n\n/**\n * :class:`ResponsiveView` is used to create bindings that alter elements on\n * changes to the viewport width. This can be used to add an SUI class when the\n * viewport width changes.\n *\n * Usage in a binding context:\n *\n * .. code:: html\n *\n *   <div class=\"ui menu\" data-bind=\"css: {vertical: device.mobile()}\">\n *   <div class=\"ui menu\" data-bind=\"css: {vertical: device.tablet()}\">\n *   <div class=\"ui menu\" data-bind=\"css: {vertical: device.computer()}\">\n *   <div class=\"ui menu\" data-bind=\"css: {vertical: device.large_screen()}\">\n */\nexport class ResponsiveView {\n  constructor() {\n    this.viewport_width = ko.observable();\n    this.device = {\n      mobile: ko.observable(true),\n      tablet: ko.observable(false),\n      computer: ko.observable(false),\n      large_screen: ko.observable(false),\n    };\n\n    // Don't send too many events to listeners\n    this.viewport_width.extend({ ratelimit: 500 });\n    this.viewport_width.subscribe((width) => {\n      for (const device_name of Object.keys(this.device)) {\n        const is_device = width >= breakpoints[device_name];\n        this.device[device_name](is_device);\n      }\n    });\n\n    // Update window width. This will trigger changes to this.device\n    const jq_window = jquery(window);\n    const fn_update = () => {\n      this.viewport_width(jq_window.width());\n    };\n    jq_window.on(\"resize\", fn_update);\n    fn_update();\n  }\n}\n\n/**\n * Base class for API listing views. Provides a foundation for waiting to load\n * data from an API, loading data from an API request, and handling the data.\n *\n * ``data`` parameter needs an ``id`` and ``url`` property.\n *\n */\nexport class APIListItemView {\n  constructor(data) {\n    this.id = data.id;\n    this.url = data.url;\n    /** @observable {Boolean} Is the API request started loading? */\n    this.loaded = ko.observable(false);\n    /** @observable {Boolean} Is the API request done loading? */\n    this.loading = ko.observable(false);\n    /** The central promise for the request.\n     * @type {Promise} */\n    this.promise = null;\n    /** @observable {Object} The data returned from the API */\n    this.data = ko.observable();\n  }\n\n  /**\n   * Using the supplied configuration, perform an API request. Sets up\n   * :attr:`promise` so that the child class can manage promise resolve and\n   * reject\n   */\n  fetch() {\n    if (this.promise) {\n      return this.promise;\n    }\n    this.promise = new Promise((resolve, reject) => {\n      if (this.loaded()) {\n        return resolve(this.data());\n      }\n      this.loading(true);\n      jquery.getJSON(this.url).then((data) => {\n        this.data(data);\n        this.loaded(true);\n        this.loading(false);\n        return resolve(data);\n      });\n    });\n  }\n}\n\n// And some partial views for base template components\n\n/**\n * HeaderView\n */\nexport class HeaderView {\n  static view_name = \"HeaderView\";\n\n  constructor() {\n    /** Configuration passed in via :func:`~application.plugins.jsonInit`\n     * @observable {Object} Header configuration, mostly for search */\n    this.config = ko.observable();\n    /** SUI search configuration object, used from templates\n     * @observable {Object} Search configuration */\n    this.search_project_config = ko.observable();\n\n    // Wait for :func:`config` to change before we init search\n    this.config.subscribe((config) => {\n      if (config === undefined) {\n        return;\n      }\n      // The URL from the config object is a relative URL, we'll use the\n      // window URL origin as the full URL\n      const url = new URL(config.api_projects_list_url, window.location.origin);\n      url.search = \"?name={query}\";\n      this.search_project_config({\n        type: \"category\",\n        apiSettings: {\n          url: url.href,\n          onResponse: (resp) => {\n            const projects = resp.results.map((elem, index) => {\n              // TODO description might be better off in the application model\n              let description = elem.slug;\n              if (elem.subproject_of) {\n                // TODO localize this\n                description = \"Subproject of \" + elem.subproject_of.name;\n              } else if (elem.translation_of) {\n                // TODO localize this\n                description =\n                  elem.language.name +\n                  \" translation of \" +\n                  elem.translation_of.name;\n              }\n\n              // Normalize URL for use in non-standard domain names\n              // TODO this is a hack to support alternative domains, like our\n              // beta/staging instance. This can be removed when there is only\n              // one dashboard subdomain.\n              let url_project = new URL(elem.urls.home);\n              let url_window = new URL(window.location.href);\n              if (url_project.hostname != url_window.hostname) {\n                url_project.hostname = url_window.hostname;\n              }\n\n              return {\n                title: elem.name,\n                description: description,\n                url: url_project.toString(),\n              };\n            });\n            const results = {\n              results: {\n                \"category-projects\": {\n                  name: \"Projects\",\n                  results: projects,\n                },\n              },\n            };\n            return results;\n          },\n        },\n        minCharacters: 2,\n      });\n    });\n  }\n}\nRegistry.add_view(HeaderView);\n","import jquery from \"jquery\";\nimport ko from \"knockout\";\nimport { loadStripe } from \"@stripe/stripe-js/dist/pure.esm.js\";\n\nimport { Registry } from \"../application/registry\";\n\nclass StripeCheckoutView {\n  static view_name = \"StripeCheckoutView\";\n\n  constructor(config) {\n    this.stripeKey = config.stripeKey || \"\";\n    this.checkoutSessionUrl = config.checkoutSessionUrl || \"\";\n    this.csrfToken = config.csrfToken || \"\";\n\n    this.stripe = ko.observable();\n    this.stripeLoading = ko.observable(true);\n\n    this.priceId = ko.observable();\n\n    this.initializeStripe();\n  }\n\n  /**\n   * Load Stripe JS client dynamically\n   *\n   * The package installed through NPM is just a wrapper for the Stripe hosted\n   * JS, which is required for PCI compliance. We treat this similar to a Webpack\n   * dynamic import and wait to load the library until doing anything with it.\n   * The form element will appear disabled while the library is loading.\n   */\n  initializeStripe() {\n    return loadStripe(this.stripeKey).then((stripe) => {\n      this.stripe(stripe);\n      this.stripeLoading(false);\n    });\n  }\n\n  /**\n   * Click event handler for the Gold subscription form\n   *\n   * This posts to an internal URL to generate the Stripe checkout session and\n   * then redirects the user\n   */\n  createCheckoutSession() {\n    this.stripeLoading(true);\n\n    fetch(this.checkoutSessionUrl, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"X-CSRFToken\": this.csrfToken,\n      },\n      body: JSON.stringify({\n        priceId: this.priceId(),\n      }),\n    })\n      .then((result) => {\n        this.stripeLoading(false);\n        result.json().then((data) => {\n          this.stripe().redirectToCheckout({ sessionId: data.session_id });\n        });\n      })\n      .catch((err) => {\n        this.stripeLoading(false);\n      });\n  }\n}\n\nRegistry.add_view(StripeCheckoutView);\n","import { LitElement } from \"lit\";\n\n/**\n * LightDOMElement\n *\n * This is a helper class for using a light DOM with LitElement\n * instead of a shadow DOM. Light DOM is what allows FUI styles\n * to be used inside the element.\n *\n * Also adds some debugger helpers.\n **/\nexport class LightDOMElement extends LitElement {\n  // Use light DOM with inherited styles instead of shadow DOM\n  createRenderRoot() {\n    return this;\n  }\n\n  // And some debugging calls\n  connectedCallback() {\n    super.connectedCallback();\n\n    console.debug(\"Setting up web component instance:\", this.constructor.name);\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n\n    console.debug(\n      \"Disconnecting web component instance:\",\n      this.constructor.name,\n    );\n  }\n}\n","import { LitElement, css, html, nothing, unsafeCSS } from \"lit\";\nimport pureRand from \"pure-rand\";\n\nimport { LightDOMElement } from \"../application/elements\";\n\n// This image lives alongside our CSS sources, and bundling outputs this image\n// to the application static path. From here, Django ``static`` template tag is\n// used to reference the file through storage. So, this import is not directly\n// needed here, and this might be a pattern to redo eventually.\nimport avatarImage from \"../../css/images/avatar-1.png\";\n\nexport class AvatarElement extends LitElement {\n  static properties = {\n    seed: { type: String },\n    url: { type: String },\n  };\n\n  static styles = css`\n    :host {\n      --avatar-x: 0;\n      --avatar-y: 0;\n      --avatar-scale: -10px;\n      --avatar-background-image: none;\n    }\n\n    :host > div {\n      background-image: var(--avatar-background-image);\n      background-repeat: no-repeat;\n      background-size: calc(100 * -1 * var(--avatar-scale))\n        calc(100 * -1 * var(--avatar-scale));\n      background-position-x: calc(var(--avatar-x) * var(--avatar-scale));\n      background-position-y: calc(var(--avatar-y) * var(--avatar-scale));\n      image-rendering: pixelated;\n      width: calc(var(--avatar-scale) * -4);\n      height: calc(var(--avatar-scale) * -4);\n    }\n  `;\n\n  render() {\n    return html`<div></div>`;\n  }\n\n  updated(changed) {\n    // Dynamically update background position through CSS variables. The\n    // ``styles`` attribute does not work with dynamic rules, but we can do the\n    // same after an updated event on the web component.\n    if (changed.has(\"seed\") && this.seed) {\n      const rng = pureRand.xoroshiro128plus(this.seed);\n      const posX = pureRand.unsafeUniformIntDistribution(0, 99, rng);\n      const posY = pureRand.unsafeUniformIntDistribution(0, 99, rng);\n      this.style.setProperty(\"--avatar-x\", posX);\n      this.style.setProperty(\"--avatar-y\", posY);\n    }\n    // Similarly, load the image through the avatar URL attribute, as we want\n    // the fully resolved storage URL from Django staticfiles.\n    if (changed.has(\"url\") && this.url) {\n      this.style.setProperty(\"--avatar-background-image\", `url(\"${this.url}\")`);\n    }\n  }\n}\n\ncustomElements.define(\"readthedocs-avatar\", AvatarElement);\n","import ko from \"knockout\";\nimport jquery from \"jquery\";\n\nimport { Registry } from \"../application/registry\";\n\n/**\n * Collapsing header view, for project and organization detail pages\n *\n * @class\n * @constructor\n * @public\n */\nexport class CollapsingHeaderView {\n  static view_name = \"CollapsingHeaderView\";\n\n  constructor(collapsed = true) {\n    /** @observable {Object} Whether the header view is collapsed by default */\n    this.is_collapsed = ko.observable(collapsed);\n\n    /** Computed observable for the dropdown link class, so it swaps\n     *\n     * @computed {Object} CSS class for dropdown link\n     */\n    this.dropdown_class = ko.computed(() => {\n      return this.is_collapsed() ? \"fa-caret-down\" : \"fa-caret-up\";\n    });\n  }\n\n  toggle_collapsed() {\n    const value = this.is_collapsed();\n    this.is_collapsed(!value);\n  }\n}\nRegistry.add_view(CollapsingHeaderView);\n","import ko from \"knockout\";\nimport jquery from \"jquery\";\n\nimport { Registry } from \"../application/registry\";\n\n/**\n * Base view for configuring a view filter.\n *\n * Filters fields are all individually configured with the ``filter_config``\n * property as the configuration for the FUI dropdown element. This\n * configuration converts an ``onchange`` event into a form submission\n * automatically.\n *\n * This configuration is used directly in the ``includes/filter/form.html``\n * include, once per filter field.\n *\n * @class\n * @constructor\n * @public\n */\nexport class FilterView {\n  static view_name = \"FilterView\";\n\n  constructor() {\n    this.filter_config = {\n      action: \"activate\",\n      onChange: (value, label, $elem) => {\n        // Note: limit use of jQuery selector aid. It's confusing to mix Django\n        // templates, knockout, and random jQuery selections in the page. Most\n        // of the time, you should be able to use a knockout binding, but this\n        // was rather trivial and resulted in no additional observables on the\n        // view.\n        const form = $elem.closest(\"form\");\n        form.submit();\n      },\n    };\n  }\n}\nRegistry.add_view(FilterView);\n","import jquery from \"jquery\";\n\nwindow.emitLitDebugLogEvents = true;\nwindow.addEventListener(\"lit-debug\", (event) => {\n  console.debug(\"Lit event:\", event.detail);\n});\n\nimport { html } from \"lit\";\nimport { when } from \"lit/directives/when.js\";\nimport { ref, createRef } from \"lit/directives/ref.js\";\n\nimport { LightDOMElement } from \"../application/elements\";\n\n/**\n * Field element web component base class\n *\n * This element wraps fields from Crispy/Django. These elements follow a progressive enhancement, rely on direct DOM manipulation instead of\n * rendering the full element from a Lit template. This helps keeps parent web components purely rendered.\n *\n * These elements will be most helpful used from parent web components:\n *\n * .. code:: javascript\n *\n *     render() {\n *       return html`\n *         <readthedocs-input-field\n *             .value=\"${this.value}\"\n *             .disabled=\"${this.disabled}\"\n *             @change=\"${this.handler}\">\n *           <input type=\"text\" name=\"foo\" />\n *         </readthedocs-input-field>\n *       `;\n *\n * @event {change} TODO\n * @property {value}\n * @property {disabled}\n * @property {selector}\n * @property {hasError}\n */\nexport class FieldElement extends LightDOMElement {\n  static properties = {\n    value: { type: String },\n    disabled: { type: Boolean },\n    selector: { type: String },\n    hasError: { type: Boolean },\n  };\n\n  /** @param {Ref} Reference to the input element */\n  refInput = createRef();\n  /** @param {Ref} Reference to the errors list element */\n  refErrors = createRef();\n\n  constructor() {\n    super();\n    this.selector = \"input[name]\";\n    this.hasError = false;\n  }\n\n  /**\n   * Manually configure element references, we can't use a render template to\n   * establish element references via ``ref()``.\n   */\n  connectedCallback() {\n    super.connectedCallback();\n    this.refInput.value = this.querySelector(this.selector);\n    this.refErrors.value = this.querySelector(\".ui.negative.label\");\n    this.hasError = Boolean(this.refErrors.value);\n  }\n\n  /**\n   * Set tab index on field to protect disabled fields from keyboard focus.\n   *\n   * Field types have differing elements that will need to alter tab index, so\n   * this can be overridden for any inherited classes.\n   */\n  set tabIndex(tabIndex) {\n    const elemInput = this.refInput.value;\n    elemInput.setAttribute(\"tabIndex\", tabIndex);\n  }\n\n  /**\n   * Setter for input field value, this can vary by subclass.\n   */\n  set inputValue(value) {\n    const elemInput = this.refInput.value;\n    elemInput.value = this.value;\n  }\n\n  /**\n   * Lit updated properties from Lit property lifecycle.\n   *\n   * This is finally called for any properties , reflect these in the already\n   * rendered child elements.\n   *\n   * @param {Map} changed - properties that have changed on first update\n   */\n  updated(changed) {\n    if (changed.has(\"value\")) {\n      this.inputValue = this.value;\n    }\n    if (changed.has(\"disabled\")) {\n      this.tabIndex = this.disabled ? -1 : 0;\n    }\n    if (changed.has(\"hasError\") && this.hasError) {\n      this.dispatchChangeEvent();\n    }\n  }\n\n  /**\n   * Emit change event from this event\n   *\n   * In a Lit template, subscribe to this event in a render template with:\n   * ``<readthedocs-field @change=\"${this.someEventHandler}\">``.\n   */\n  dispatchChangeEvent() {\n    this.dispatchEvent(\n      new CustomEvent(\"change\", {\n        bubbles: false,\n        composed: true,\n      }),\n    );\n  }\n\n  /**\n   * Clear error state and Crispy error elements\n   */\n  clearErrors() {\n    if (this.hasError) {\n      const elemErrors = this.refErrors.value;\n      elemErrors.remove();\n      this.hasError = false;\n    }\n  }\n}\n\n/**\n * Field element for InputElement driven form fields\n *\n * Update events on the input element trigger changes here and emit events for\n * changes in the parent element.\n */\nclass InputFieldElement extends FieldElement {\n  connectedCallback() {\n    super.connectedCallback();\n    const elemInput = this.refInput.value;\n    if (elemInput) {\n      this.value = elemInput.value;\n      elemInput.addEventListener(\"change\", (event) => {\n        this.dispatchChangeEvent();\n        event.stopPropagation();\n      });\n    }\n  }\n}\ncustomElements.define(\"readthedocs-input-field\", InputFieldElement);\n\n/**\n * Field element for SUI dropdown driven form fields\n *\n * This relies on the SUI dropdown module and module behaviors to drive all of\n * the element properties and dropdown UI manipulation.\n */\nexport class RichSelectFieldElement extends FieldElement {\n  static get properties() {\n    const properties = FieldElement.properties;\n    properties.description = { type: String };\n    return properties;\n  }\n\n  constructor() {\n    super();\n    this.selector = \".ui.dropdown\";\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    if (this.refInput.value) {\n      this.dropdown({\n        fireOnInit: true,\n        onChange: (value, text, $selected) => {\n          // $selected is a jQuery element\n          const selected = $selected[0];\n          this.value = selected.dataset.value;\n          this.description = selected.dataset.description;\n          this.dispatchChangeEvent();\n        },\n      });\n    }\n  }\n\n  /**\n   * Call SUI dropdown module\n   *\n   * This calls into the SUI jQuery ``dropdown`` module and can be used for\n   * both configuring the module or calling any of the behaviors the module\n   * provides (see https://fomantic-ui.com/modules/dropdown.html#behavior)\n   */\n  dropdown(...args) {\n    return jquery(this.refInput.value).dropdown(...args);\n  }\n\n  set inputValue(value) {\n    // Call ``set selected`` behavior with ``value`` and ``preventChangeTrigger=true``\n    // to avoid retriggering the ``onChange`` callback.\n    this.dropdown(\"set selected\", value, true);\n  }\n\n  set tabIndex(tabIndex) {\n    // The module behavior ``set tabbable`` does not seem to work like we want,\n    // don't use it here and instead alter the input manually.\n    this.refInput.value\n      .querySelector(\"input.search\")\n      .setAttribute(\"tabIndex\", tabIndex);\n  }\n}\ncustomElements.define(\"readthedocs-richselect-field\", RichSelectFieldElement);\n","import jquery from \"jquery\";\nimport { LitElement, css, html, nothing } from \"lit\";\nimport { ContextProvider, ContextConsumer, createContext } from \"@lit/context\";\nimport { msg } from \"@lit/localize\";\nimport { classMap } from \"lit/directives/class-map.js\";\nimport { when } from \"lit/directives/when.js\";\n\nimport { LightDOMElement } from \"../application/elements\";\n\n/**\n * API event wrapper\n *\n * Generic button/link wrapper to POST to a URL on an event like \"click\".\n * Handles error feedback via toast message and redirection on success.\n *\n * @param {string} csrfToken - CSRF token from Django, attribute ``csrf-token``\n * @param {string} url - API URL for request\n *\n * TODO Deprecate this in favor of APIProviderElement\n **/\nexport class APIEventWrapper extends LightDOMElement {\n  static properties = {\n    csrfToken: { type: String, attribute: \"csrf-token\" },\n    url: { type: String },\n\n    // For API response\n    data: { state: true },\n  };\n\n  static method = \"POST\";\n  static event = \"click\";\n  static errorMessage = \"There was a problem with your request\";\n\n  // This is just a wrapper, so we rely on the inner HTML for all of the\n  // display and instead just wrap the outer with a clickable element.\n  constructor() {\n    super();\n    this.addEventListener(this.constructor.event, () => {\n      this.onEvent();\n    });\n  }\n\n  getHeaders() {\n    let headers = {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n    };\n    if (this.csrfToken) {\n      headers[\"X-CSRFToken\"] = this.csrfToken;\n    }\n    return headers;\n  }\n\n  getUrl() {\n    return this.url;\n  }\n\n  onEvent() {\n    if (this.request == undefined) {\n      const classes = this.classList;\n      classes.add(\"loading\");\n      this.sendRequest().finally(() => {\n        classes.remove(\"loading\");\n      });\n    }\n  }\n\n  sendRequest() {\n    const options = {\n      method: this.constructor.method,\n      headers: this.getHeaders(),\n    };\n\n    this.request = fetch(this.getUrl(), options)\n      .then((response) => {\n        if (!response.ok) {\n          throw new Error(\"Request failed\");\n        }\n        return response.json();\n      })\n      .then((data) => {\n        console.debug(\"Received API reponse:\", data);\n        return this.onResponse(data);\n      })\n      .catch((err) => {\n        this.onError(err);\n      });\n\n    return this.request;\n  }\n\n  onResponse(data) {\n    this.data = data;\n    const urlSuccess = this.getSuccessURL();\n    if (urlSuccess) {\n      window.location.href = urlSuccess;\n    }\n  }\n\n  /** Return URL to redirect to on success\n   *\n   * Can use ``this.data`` to get API return from ``_link`` and other fields.\n   *\n   * @returns {string} - URL\n   **/\n  getSuccessURL() {\n    return;\n  }\n\n  /** Display error toast message on request error\n   *\n   * @param {Error} err - Exception raised during request\n   **/\n  onError(err) {\n    jquery.toast({\n      class: \"error\",\n      message: this.constructor.errorMessage,\n    });\n  }\n}\n\n/** Menu item for rebuilding a version **/\nclass MenuBuildRebuildElement extends APIEventWrapper {\n  // TODO translate this here or use a different pattern\n  static errorMessage =\n    \"There was an error starting a new build for this version\";\n\n  getSuccessURL() {\n    return this?.data?.build?.urls?.build;\n  }\n}\n\ncustomElements.define(\n  \"readthedocs-menu-build-rebuild\",\n  MenuBuildRebuildElement,\n);\n\n/** Button for resyncing all versions **/\nclass ButtonSyncAllVersionsElement extends APIEventWrapper {\n  // TODO translate this here or use a different pattern\n  static errorMessage = \"There was an error syncing versions.\";\n\n  getSuccessURL() {\n    console.log(\"Successfully synced versions\");\n  }\n\n  // Override the base class to delay the loading state removal\n  onEvent() {\n    if (this.request == undefined) {\n      const classes = this.classList;\n      classes.add(\"loading\");\n      this.sendRequest().finally(() => {\n        setTimeout(() => {\n          classes.remove(\"loading\");\n        }, 2000);\n      });\n    }\n  }\n}\n\ncustomElements.define(\n  \"readthedocs-button-sync-versions\",\n  ButtonSyncAllVersionsElement,\n);\n\n/**\n * Lit data contexts for elements with API interactions\n *\n * These data contexts are provided by :js:class:`APIProviderElement` and\n * consumed by :js:class:`APIConsumerElement`. This allows a central element to\n * execute an API request (table row, or a group of buttons) and for sub elements\n * at any point in the nested DOM to use this response (a button nested in the\n * table row, a submenu in the group of buttons).\n **/\nconst contextData = createContext(Symbol(\"data\"));\nconst contextState = createContext(Symbol(\"state\"));\n\n/**\n * API response states enum\n *\n * These are used by API response provider/consumer\n **/\nconst States = Object.freeze({\n  WAITING: Symbol(\"waiting\"),\n  LOADING: Symbol(\"loading\"),\n  DONE: Symbol(\"done\"),\n});\n\n/**\n * Context provider element for API response\n *\n * On an event (mouseover by default), this element starts an API request to the\n * URL specified. It eventually stores the response data in a data context for\n * nested consumer elements.\n *\n * Handles error feedback via toast message and redirection on success.\n *\n * @extends APIEventWrapper\n *\n * TODO This can replace the parent APIEventWrapper element above\n **/\nexport class APIProviderElement extends APIEventWrapper {\n  static method = \"GET\";\n  static event = \"mouseover\";\n\n  /** @type {ContextProvider} Reactive data context for API response data **/\n  _providerData = new ContextProvider(this, {\n    context: contextData,\n  });\n\n  set data(value) {\n    this._providerData.setValue(value);\n  }\n\n  /** @type {ContextProvider} Reactive data context for API response state **/\n  _providerState = new ContextProvider(this, {\n    context: contextState,\n  });\n\n  set state(value) {\n    this._providerState.setValue(value);\n  }\n\n  constructor() {\n    super();\n    this.state = States.WAITING;\n  }\n\n  onEvent() {\n    if (this.request == undefined) {\n      this.state = States.LOADING;\n      this.sendRequest().finally(() => {\n        this.state = States.DONE;\n      });\n    }\n  }\n\n  onResponse(data) {\n    this.data = data;\n  }\n}\n\ncustomElements.define(\"readthedocs-api\", APIProviderElement);\n\n/**\n * Context consumer element for API response\n *\n * This element waits for a parent anywhere up the DOM tree to emit a data\n * context element. There are two data contexts: the response state and the\n * response data.\n *\n * @extends LightDOMElement\n *\n * @property {Boolean} disabled - Render the element in a disabled state\n * @property {String} label - Label for the element and ARIA\n **/\nexport class APIConsumerElement extends LightDOMElement {\n  static properties = {\n    disabled: {\n      type: Boolean,\n    },\n    label: {\n      type: String,\n    },\n  };\n\n  /** @type {ContextConsumer} Reactive consumer for API response context data **/\n  _consumerData = new ContextConsumer(this, {\n    context: contextData,\n    subscribe: true,\n  });\n\n  get data() {\n    return this._consumerData.value;\n  }\n\n  /** @type {ContextConsumer} Reactive consumer for API request state context data **/\n  _consumerState = new ContextConsumer(this, {\n    context: contextState,\n    subscribe: true,\n  });\n\n  /** @type {State} Reactive context data for API request state **/\n  get state() {\n    return this._consumerState.value;\n  }\n\n  constructor() {\n    super();\n    this.disabled = false;\n  }\n\n  /**\n   * Queue event for late loading links\n   *\n   * Wait until the request promise resolves and then reemit the event to\n   * finally follow the link. This is useful for links that have a late-loaded\n   * ``href``.\n   *\n   * Use it in templates with ``html`<div @click=\"${this.queueEvent}\">``\n   *\n   * @param event {Event} - Click or other event\n   **/\n  queueEvent(event) {\n    if (this.state !== States.DONE) {\n      console.debug(\"Queueing click event:\", event);\n      event.preventDefault();\n      event.stopPropagation();\n\n      this._consumerState.callback = (value) => {\n        if (value === States.DONE) {\n          console.debug(\"Replaying click event:\", event);\n          // dispatchEvent doesn't seem to work here, so we just create a brand\n          // new event here instead.\n          event.target.click();\n        }\n      };\n    }\n  }\n}\n\n// Menu items\nexport class ItemDocsElement extends APIConsumerElement {\n  render() {\n    let label = this.label || msg(`View documentation`);\n    return html`\n      <a\n        class=\"ui button ${classMap({\n          disabled: this.disabled,\n          loading: !this.disabled && this.state === States.LOADING,\n        })}\"\n        href=${this.data?.urls?.documentation || `#`}\n        @click=${this.queueEvent}\n        data-content=\"${label}\"\n        aria-label=\"${label}\"\n        target=\"_blank\"\n        tabindex=\"${when(\n          !this.disabled,\n          () => html`0`,\n          () => html`-1`,\n        )}\"\n      >\n        <i class=\"fa-duotone fa-book icon\"></i>\n      </a>\n    `;\n  }\n}\ncustomElements.define(\"readthedocs-item-docs\", ItemDocsElement);\n\nexport class ItemDownloadsElement extends APIConsumerElement {\n  render() {\n    let label = this.label || msg(`Offline formats`);\n    return html`\n      <button\n        class=\"ui ${classMap({ disabled: this.disabled })} dropdown button\"\n        data-content=\"${label}\"\n        aria-label=\"${label}\"\n        tabindex=\"${when(\n          this.disabled,\n          () => html`0`,\n          () => html`-1`,\n        )}\"\n      >\n        <i class=\"fa-solid fa-download icon\"></i>\n        <div class=\"menu\">\n          <div class=\"header\">${msg(`Offline formats`)}</div>\n          <a\n            href=\"${this.data?.downloads?.pdf}\"\n            class=\"${classMap({ disabled: !this.data?.downloads?.pdf })} item\"\n          >\n            <i class=\"fa-duotone fa-file icon\"></i>\n            ${msg(`PDF file`)}\n          </a>\n          <a\n            href=\"${this.data?.downloads?.epub}\"\n            class=\"${classMap({ disabled: !this.data?.downloads?.epub })} item\"\n          >\n            <i class=\"fa-duotone fa-file icon\"></i>\n            ${msg(`ePUB file`)}\n          </a>\n          <a\n            href=\"${this.data?.downloads?.htmlzip}\"\n            class=\"${classMap({\n              disabled: !this.data?.downloads?.htmlzip,\n            })} item\"\n          >\n            <i class=\"fa-duotone fa-file-zipper icon\"></i>\n            ${msg(`HTML archive`)}\n          </a>\n        </div>\n      </button>\n    `;\n  }\n}\ncustomElements.define(\"readthedocs-item-downloads\", ItemDownloadsElement);\n\nclass MenuProjectAdminElement extends APIConsumerElement {\n  static get properties() {\n    // TODO `urlSettings` should be part of APIv3 response\n    let _properties = APIConsumerElement.properties;\n    _properties[\"urlSettings\"] = { type: String, attribute: \"url-settings\" };\n    return _properties;\n  }\n\n  render() {\n    const isAdmin = this.data?.permissions?.admin;\n    // This preemptively supports a settings URL, which can be passed in as an\n    // attribute in the meantime. The `urlSettings` property can go away with this.\n    const urlSettings = this.data?.urls?.settings || this.urlSettings;\n    return html`\n      <div class=\"header\">${msg(`Admin`)}</div>\n      <a class=\"${classMap({ disabled: !isAdmin })} item\" href=\"${urlSettings}\">\n        <i class=\"fa-duotone fa-wrench icon\"></i>\n        ${msg(`Configure project`)}\n      </a>\n    `;\n  }\n}\ncustomElements.define(\n  \"readthedocs-menu-project-admin\",\n  MenuProjectAdminElement,\n);\n","/*! @license DOMPurify 3.2.2 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.2/LICENSE */\n\nconst {\n  entries,\n  setPrototypeOf,\n  isFrozen,\n  getPrototypeOf,\n  getOwnPropertyDescriptor\n} = Object;\nlet {\n  freeze,\n  seal,\n  create\n} = Object; // eslint-disable-line import/no-mutable-exports\nlet {\n  apply,\n  construct\n} = typeof Reflect !== 'undefined' && Reflect;\nif (!freeze) {\n  freeze = function freeze(x) {\n    return x;\n  };\n}\nif (!seal) {\n  seal = function seal(x) {\n    return x;\n  };\n}\nif (!apply) {\n  apply = function apply(fun, thisValue, args) {\n    return fun.apply(thisValue, args);\n  };\n}\nif (!construct) {\n  construct = function construct(Func, args) {\n    return new Func(...args);\n  };\n}\nconst arrayForEach = unapply(Array.prototype.forEach);\nconst arrayPop = unapply(Array.prototype.pop);\nconst arrayPush = unapply(Array.prototype.push);\nconst stringToLowerCase = unapply(String.prototype.toLowerCase);\nconst stringToString = unapply(String.prototype.toString);\nconst stringMatch = unapply(String.prototype.match);\nconst stringReplace = unapply(String.prototype.replace);\nconst stringIndexOf = unapply(String.prototype.indexOf);\nconst stringTrim = unapply(String.prototype.trim);\nconst objectHasOwnProperty = unapply(Object.prototype.hasOwnProperty);\nconst regExpTest = unapply(RegExp.prototype.test);\nconst typeErrorCreate = unconstruct(TypeError);\n/**\n * Creates a new function that calls the given function with a specified thisArg and arguments.\n *\n * @param func - The function to be wrapped and called.\n * @returns A new function that calls the given function with a specified thisArg and arguments.\n */\nfunction unapply(func) {\n  return function (thisArg) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n    return apply(func, thisArg, args);\n  };\n}\n/**\n * Creates a new function that constructs an instance of the given constructor function with the provided arguments.\n *\n * @param func - The constructor function to be wrapped and called.\n * @returns A new function that constructs an instance of the given constructor function with the provided arguments.\n */\nfunction unconstruct(func) {\n  return function () {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n    return construct(func, args);\n  };\n}\n/**\n * Add properties to a lookup table\n *\n * @param set - The set to which elements will be added.\n * @param array - The array containing elements to be added to the set.\n * @param transformCaseFunc - An optional function to transform the case of each element before adding to the set.\n * @returns The modified set with added elements.\n */\nfunction addToSet(set, array) {\n  let transformCaseFunc = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : stringToLowerCase;\n  if (setPrototypeOf) {\n    // Make 'in' and truthy checks like Boolean(set.constructor)\n    // independent of any properties defined on Object.prototype.\n    // Prevent prototype setters from intercepting set as a this value.\n    setPrototypeOf(set, null);\n  }\n  let l = array.length;\n  while (l--) {\n    let element = array[l];\n    if (typeof element === 'string') {\n      const lcElement = transformCaseFunc(element);\n      if (lcElement !== element) {\n        // Config presets (e.g. tags.js, attrs.js) are immutable.\n        if (!isFrozen(array)) {\n          array[l] = lcElement;\n        }\n        element = lcElement;\n      }\n    }\n    set[element] = true;\n  }\n  return set;\n}\n/**\n * Clean up an array to harden against CSPP\n *\n * @param array - The array to be cleaned.\n * @returns The cleaned version of the array\n */\nfunction cleanArray(array) {\n  for (let index = 0; index < array.length; index++) {\n    const isPropertyExist = objectHasOwnProperty(array, index);\n    if (!isPropertyExist) {\n      array[index] = null;\n    }\n  }\n  return array;\n}\n/**\n * Shallow clone an object\n *\n * @param object - The object to be cloned.\n * @returns A new object that copies the original.\n */\nfunction clone(object) {\n  const newObject = create(null);\n  for (const [property, value] of entries(object)) {\n    const isPropertyExist = objectHasOwnProperty(object, property);\n    if (isPropertyExist) {\n      if (Array.isArray(value)) {\n        newObject[property] = cleanArray(value);\n      } else if (value && typeof value === 'object' && value.constructor === Object) {\n        newObject[property] = clone(value);\n      } else {\n        newObject[property] = value;\n      }\n    }\n  }\n  return newObject;\n}\n/**\n * This method automatically checks if the prop is function or getter and behaves accordingly.\n *\n * @param object - The object to look up the getter function in its prototype chain.\n * @param prop - The property name for which to find the getter function.\n * @returns The getter function found in the prototype chain or a fallback function.\n */\nfunction lookupGetter(object, prop) {\n  while (object !== null) {\n    const desc = getOwnPropertyDescriptor(object, prop);\n    if (desc) {\n      if (desc.get) {\n        return unapply(desc.get);\n      }\n      if (typeof desc.value === 'function') {\n        return unapply(desc.value);\n      }\n    }\n    object = getPrototypeOf(object);\n  }\n  function fallbackValue() {\n    return null;\n  }\n  return fallbackValue;\n}\n\nconst html$1 = freeze(['a', 'abbr', 'acronym', 'address', 'area', 'article', 'aside', 'audio', 'b', 'bdi', 'bdo', 'big', 'blink', 'blockquote', 'body', 'br', 'button', 'canvas', 'caption', 'center', 'cite', 'code', 'col', 'colgroup', 'content', 'data', 'datalist', 'dd', 'decorator', 'del', 'details', 'dfn', 'dialog', 'dir', 'div', 'dl', 'dt', 'element', 'em', 'fieldset', 'figcaption', 'figure', 'font', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'hr', 'html', 'i', 'img', 'input', 'ins', 'kbd', 'label', 'legend', 'li', 'main', 'map', 'mark', 'marquee', 'menu', 'menuitem', 'meter', 'nav', 'nobr', 'ol', 'optgroup', 'option', 'output', 'p', 'picture', 'pre', 'progress', 'q', 'rp', 'rt', 'ruby', 's', 'samp', 'section', 'select', 'shadow', 'small', 'source', 'spacer', 'span', 'strike', 'strong', 'style', 'sub', 'summary', 'sup', 'table', 'tbody', 'td', 'template', 'textarea', 'tfoot', 'th', 'thead', 'time', 'tr', 'track', 'tt', 'u', 'ul', 'var', 'video', 'wbr']);\n// SVG\nconst svg$1 = freeze(['svg', 'a', 'altglyph', 'altglyphdef', 'altglyphitem', 'animatecolor', 'animatemotion', 'animatetransform', 'circle', 'clippath', 'defs', 'desc', 'ellipse', 'filter', 'font', 'g', 'glyph', 'glyphref', 'hkern', 'image', 'line', 'lineargradient', 'marker', 'mask', 'metadata', 'mpath', 'path', 'pattern', 'polygon', 'polyline', 'radialgradient', 'rect', 'stop', 'style', 'switch', 'symbol', 'text', 'textpath', 'title', 'tref', 'tspan', 'view', 'vkern']);\nconst svgFilters = freeze(['feBlend', 'feColorMatrix', 'feComponentTransfer', 'feComposite', 'feConvolveMatrix', 'feDiffuseLighting', 'feDisplacementMap', 'feDistantLight', 'feDropShadow', 'feFlood', 'feFuncA', 'feFuncB', 'feFuncG', 'feFuncR', 'feGaussianBlur', 'feImage', 'feMerge', 'feMergeNode', 'feMorphology', 'feOffset', 'fePointLight', 'feSpecularLighting', 'feSpotLight', 'feTile', 'feTurbulence']);\n// List of SVG elements that are disallowed by default.\n// We still need to know them so that we can do namespace\n// checks properly in case one wants to add them to\n// allow-list.\nconst svgDisallowed = freeze(['animate', 'color-profile', 'cursor', 'discard', 'font-face', 'font-face-format', 'font-face-name', 'font-face-src', 'font-face-uri', 'foreignobject', 'hatch', 'hatchpath', 'mesh', 'meshgradient', 'meshpatch', 'meshrow', 'missing-glyph', 'script', 'set', 'solidcolor', 'unknown', 'use']);\nconst mathMl$1 = freeze(['math', 'menclose', 'merror', 'mfenced', 'mfrac', 'mglyph', 'mi', 'mlabeledtr', 'mmultiscripts', 'mn', 'mo', 'mover', 'mpadded', 'mphantom', 'mroot', 'mrow', 'ms', 'mspace', 'msqrt', 'mstyle', 'msub', 'msup', 'msubsup', 'mtable', 'mtd', 'mtext', 'mtr', 'munder', 'munderover', 'mprescripts']);\n// Similarly to SVG, we want to know all MathML elements,\n// even those that we disallow by default.\nconst mathMlDisallowed = freeze(['maction', 'maligngroup', 'malignmark', 'mlongdiv', 'mscarries', 'mscarry', 'msgroup', 'mstack', 'msline', 'msrow', 'semantics', 'annotation', 'annotation-xml', 'mprescripts', 'none']);\nconst text = freeze(['#text']);\n\nconst html = freeze(['accept', 'action', 'align', 'alt', 'autocapitalize', 'autocomplete', 'autopictureinpicture', 'autoplay', 'background', 'bgcolor', 'border', 'capture', 'cellpadding', 'cellspacing', 'checked', 'cite', 'class', 'clear', 'color', 'cols', 'colspan', 'controls', 'controlslist', 'coords', 'crossorigin', 'datetime', 'decoding', 'default', 'dir', 'disabled', 'disablepictureinpicture', 'disableremoteplayback', 'download', 'draggable', 'enctype', 'enterkeyhint', 'face', 'for', 'headers', 'height', 'hidden', 'high', 'href', 'hreflang', 'id', 'inputmode', 'integrity', 'ismap', 'kind', 'label', 'lang', 'list', 'loading', 'loop', 'low', 'max', 'maxlength', 'media', 'method', 'min', 'minlength', 'multiple', 'muted', 'name', 'nonce', 'noshade', 'novalidate', 'nowrap', 'open', 'optimum', 'pattern', 'placeholder', 'playsinline', 'popover', 'popovertarget', 'popovertargetaction', 'poster', 'preload', 'pubdate', 'radiogroup', 'readonly', 'rel', 'required', 'rev', 'reversed', 'role', 'rows', 'rowspan', 'spellcheck', 'scope', 'selected', 'shape', 'size', 'sizes', 'span', 'srclang', 'start', 'src', 'srcset', 'step', 'style', 'summary', 'tabindex', 'title', 'translate', 'type', 'usemap', 'valign', 'value', 'width', 'wrap', 'xmlns', 'slot']);\nconst svg = freeze(['accent-height', 'accumulate', 'additive', 'alignment-baseline', 'amplitude', 'ascent', 'attributename', 'attributetype', 'azimuth', 'basefrequency', 'baseline-shift', 'begin', 'bias', 'by', 'class', 'clip', 'clippathunits', 'clip-path', 'clip-rule', 'color', 'color-interpolation', 'color-interpolation-filters', 'color-profile', 'color-rendering', 'cx', 'cy', 'd', 'dx', 'dy', 'diffuseconstant', 'direction', 'display', 'divisor', 'dur', 'edgemode', 'elevation', 'end', 'exponent', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'filterunits', 'flood-color', 'flood-opacity', 'font-family', 'font-size', 'font-size-adjust', 'font-stretch', 'font-style', 'font-variant', 'font-weight', 'fx', 'fy', 'g1', 'g2', 'glyph-name', 'glyphref', 'gradientunits', 'gradienttransform', 'height', 'href', 'id', 'image-rendering', 'in', 'in2', 'intercept', 'k', 'k1', 'k2', 'k3', 'k4', 'kerning', 'keypoints', 'keysplines', 'keytimes', 'lang', 'lengthadjust', 'letter-spacing', 'kernelmatrix', 'kernelunitlength', 'lighting-color', 'local', 'marker-end', 'marker-mid', 'marker-start', 'markerheight', 'markerunits', 'markerwidth', 'maskcontentunits', 'maskunits', 'max', 'mask', 'media', 'method', 'mode', 'min', 'name', 'numoctaves', 'offset', 'operator', 'opacity', 'order', 'orient', 'orientation', 'origin', 'overflow', 'paint-order', 'path', 'pathlength', 'patterncontentunits', 'patterntransform', 'patternunits', 'points', 'preservealpha', 'preserveaspectratio', 'primitiveunits', 'r', 'rx', 'ry', 'radius', 'refx', 'refy', 'repeatcount', 'repeatdur', 'restart', 'result', 'rotate', 'scale', 'seed', 'shape-rendering', 'slope', 'specularconstant', 'specularexponent', 'spreadmethod', 'startoffset', 'stddeviation', 'stitchtiles', 'stop-color', 'stop-opacity', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke', 'stroke-width', 'style', 'surfacescale', 'systemlanguage', 'tabindex', 'tablevalues', 'targetx', 'targety', 'transform', 'transform-origin', 'text-anchor', 'text-decoration', 'text-rendering', 'textlength', 'type', 'u1', 'u2', 'unicode', 'values', 'viewbox', 'visibility', 'version', 'vert-adv-y', 'vert-origin-x', 'vert-origin-y', 'width', 'word-spacing', 'wrap', 'writing-mode', 'xchannelselector', 'ychannelselector', 'x', 'x1', 'x2', 'xmlns', 'y', 'y1', 'y2', 'z', 'zoomandpan']);\nconst mathMl = freeze(['accent', 'accentunder', 'align', 'bevelled', 'close', 'columnsalign', 'columnlines', 'columnspan', 'denomalign', 'depth', 'dir', 'display', 'displaystyle', 'encoding', 'fence', 'frame', 'height', 'href', 'id', 'largeop', 'length', 'linethickness', 'lspace', 'lquote', 'mathbackground', 'mathcolor', 'mathsize', 'mathvariant', 'maxsize', 'minsize', 'movablelimits', 'notation', 'numalign', 'open', 'rowalign', 'rowlines', 'rowspacing', 'rowspan', 'rspace', 'rquote', 'scriptlevel', 'scriptminsize', 'scriptsizemultiplier', 'selection', 'separator', 'separators', 'stretchy', 'subscriptshift', 'supscriptshift', 'symmetric', 'voffset', 'width', 'xmlns']);\nconst xml = freeze(['xlink:href', 'xml:id', 'xlink:title', 'xml:space', 'xmlns:xlink']);\n\n// eslint-disable-next-line unicorn/better-regex\nconst MUSTACHE_EXPR = seal(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm); // Specify template detection regex for SAFE_FOR_TEMPLATES mode\nconst ERB_EXPR = seal(/<%[\\w\\W]*|[\\w\\W]*%>/gm);\nconst TMPLIT_EXPR = seal(/\\${[\\w\\W]*}/gm);\nconst DATA_ATTR = seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]/); // eslint-disable-line no-useless-escape\nconst ARIA_ATTR = seal(/^aria-[\\-\\w]+$/); // eslint-disable-line no-useless-escape\nconst IS_ALLOWED_URI = seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i // eslint-disable-line no-useless-escape\n);\nconst IS_SCRIPT_OR_DATA = seal(/^(?:\\w+script|data):/i);\nconst ATTR_WHITESPACE = seal(/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g // eslint-disable-line no-control-regex\n);\nconst DOCTYPE_NAME = seal(/^html$/i);\nconst CUSTOM_ELEMENT = seal(/^[a-z][.\\w]*(-[.\\w]+)+$/i);\n\nvar EXPRESSIONS = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  ARIA_ATTR: ARIA_ATTR,\n  ATTR_WHITESPACE: ATTR_WHITESPACE,\n  CUSTOM_ELEMENT: CUSTOM_ELEMENT,\n  DATA_ATTR: DATA_ATTR,\n  DOCTYPE_NAME: DOCTYPE_NAME,\n  ERB_EXPR: ERB_EXPR,\n  IS_ALLOWED_URI: IS_ALLOWED_URI,\n  IS_SCRIPT_OR_DATA: IS_SCRIPT_OR_DATA,\n  MUSTACHE_EXPR: MUSTACHE_EXPR,\n  TMPLIT_EXPR: TMPLIT_EXPR\n});\n\n/* eslint-disable @typescript-eslint/indent */\n// https://developer.mozilla.org/en-US/docs/Web/API/Node/nodeType\nconst NODE_TYPE = {\n  element: 1,\n  attribute: 2,\n  text: 3,\n  cdataSection: 4,\n  entityReference: 5,\n  // Deprecated\n  entityNode: 6,\n  // Deprecated\n  progressingInstruction: 7,\n  comment: 8,\n  document: 9,\n  documentType: 10,\n  documentFragment: 11,\n  notation: 12 // Deprecated\n};\nconst getGlobal = function getGlobal() {\n  return typeof window === 'undefined' ? null : window;\n};\n/**\n * Creates a no-op policy for internal use only.\n * Don't export this function outside this module!\n * @param trustedTypes The policy factory.\n * @param purifyHostElement The Script element used to load DOMPurify (to determine policy name suffix).\n * @return The policy created (or null, if Trusted Types\n * are not supported or creating the policy failed).\n */\nconst _createTrustedTypesPolicy = function _createTrustedTypesPolicy(trustedTypes, purifyHostElement) {\n  if (typeof trustedTypes !== 'object' || typeof trustedTypes.createPolicy !== 'function') {\n    return null;\n  }\n  // Allow the callers to control the unique policy name\n  // by adding a data-tt-policy-suffix to the script element with the DOMPurify.\n  // Policy creation with duplicate names throws in Trusted Types.\n  let suffix = null;\n  const ATTR_NAME = 'data-tt-policy-suffix';\n  if (purifyHostElement && purifyHostElement.hasAttribute(ATTR_NAME)) {\n    suffix = purifyHostElement.getAttribute(ATTR_NAME);\n  }\n  const policyName = 'dompurify' + (suffix ? '#' + suffix : '');\n  try {\n    return trustedTypes.createPolicy(policyName, {\n      createHTML(html) {\n        return html;\n      },\n      createScriptURL(scriptUrl) {\n        return scriptUrl;\n      }\n    });\n  } catch (_) {\n    // Policy creation failed (most likely another DOMPurify script has\n    // already run). Skip creating the policy, as this will only cause errors\n    // if TT are enforced.\n    console.warn('TrustedTypes policy ' + policyName + ' could not be created.');\n    return null;\n  }\n};\nconst _createHooksMap = function _createHooksMap() {\n  return {\n    afterSanitizeAttributes: [],\n    afterSanitizeElements: [],\n    afterSanitizeShadowDOM: [],\n    beforeSanitizeAttributes: [],\n    beforeSanitizeElements: [],\n    beforeSanitizeShadowDOM: [],\n    uponSanitizeAttribute: [],\n    uponSanitizeElement: [],\n    uponSanitizeShadowNode: []\n  };\n};\nfunction createDOMPurify() {\n  let window = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getGlobal();\n  const DOMPurify = root => createDOMPurify(root);\n  DOMPurify.version = '3.2.2';\n  DOMPurify.removed = [];\n  if (!window || !window.document || window.document.nodeType !== NODE_TYPE.document) {\n    // Not running in a browser, provide a factory function\n    // so that you can pass your own Window\n    DOMPurify.isSupported = false;\n    return DOMPurify;\n  }\n  let {\n    document\n  } = window;\n  const originalDocument = document;\n  const currentScript = originalDocument.currentScript;\n  const {\n    DocumentFragment,\n    HTMLTemplateElement,\n    Node,\n    Element,\n    NodeFilter,\n    NamedNodeMap = window.NamedNodeMap || window.MozNamedAttrMap,\n    HTMLFormElement,\n    DOMParser,\n    trustedTypes\n  } = window;\n  const ElementPrototype = Element.prototype;\n  const cloneNode = lookupGetter(ElementPrototype, 'cloneNode');\n  const remove = lookupGetter(ElementPrototype, 'remove');\n  const getNextSibling = lookupGetter(ElementPrototype, 'nextSibling');\n  const getChildNodes = lookupGetter(ElementPrototype, 'childNodes');\n  const getParentNode = lookupGetter(ElementPrototype, 'parentNode');\n  // As per issue #47, the web-components registry is inherited by a\n  // new document created via createHTMLDocument. As per the spec\n  // (http://w3c.github.io/webcomponents/spec/custom/#creating-and-passing-registries)\n  // a new empty registry is used when creating a template contents owner\n  // document, so we use that as our parent document to ensure nothing\n  // is inherited.\n  if (typeof HTMLTemplateElement === 'function') {\n    const template = document.createElement('template');\n    if (template.content && template.content.ownerDocument) {\n      document = template.content.ownerDocument;\n    }\n  }\n  let trustedTypesPolicy;\n  let emptyHTML = '';\n  const {\n    implementation,\n    createNodeIterator,\n    createDocumentFragment,\n    getElementsByTagName\n  } = document;\n  const {\n    importNode\n  } = originalDocument;\n  let hooks = _createHooksMap();\n  /**\n   * Expose whether this browser supports running the full DOMPurify.\n   */\n  DOMPurify.isSupported = typeof entries === 'function' && typeof getParentNode === 'function' && implementation && implementation.createHTMLDocument !== undefined;\n  const {\n    MUSTACHE_EXPR,\n    ERB_EXPR,\n    TMPLIT_EXPR,\n    DATA_ATTR,\n    ARIA_ATTR,\n    IS_SCRIPT_OR_DATA,\n    ATTR_WHITESPACE,\n    CUSTOM_ELEMENT\n  } = EXPRESSIONS;\n  let {\n    IS_ALLOWED_URI: IS_ALLOWED_URI$1\n  } = EXPRESSIONS;\n  /**\n   * We consider the elements and attributes below to be safe. Ideally\n   * don't add any new ones but feel free to remove unwanted ones.\n   */\n  /* allowed element names */\n  let ALLOWED_TAGS = null;\n  const DEFAULT_ALLOWED_TAGS = addToSet({}, [...html$1, ...svg$1, ...svgFilters, ...mathMl$1, ...text]);\n  /* Allowed attribute names */\n  let ALLOWED_ATTR = null;\n  const DEFAULT_ALLOWED_ATTR = addToSet({}, [...html, ...svg, ...mathMl, ...xml]);\n  /*\n   * Configure how DOMPurify should handle custom elements and their attributes as well as customized built-in elements.\n   * @property {RegExp|Function|null} tagNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any custom elements)\n   * @property {RegExp|Function|null} attributeNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any attributes not on the allow list)\n   * @property {boolean} allowCustomizedBuiltInElements allow custom elements derived from built-ins if they pass CUSTOM_ELEMENT_HANDLING.tagNameCheck. Default: `false`.\n   */\n  let CUSTOM_ELEMENT_HANDLING = Object.seal(create(null, {\n    tagNameCheck: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: null\n    },\n    attributeNameCheck: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: null\n    },\n    allowCustomizedBuiltInElements: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: false\n    }\n  }));\n  /* Explicitly forbidden tags (overrides ALLOWED_TAGS/ADD_TAGS) */\n  let FORBID_TAGS = null;\n  /* Explicitly forbidden attributes (overrides ALLOWED_ATTR/ADD_ATTR) */\n  let FORBID_ATTR = null;\n  /* Decide if ARIA attributes are okay */\n  let ALLOW_ARIA_ATTR = true;\n  /* Decide if custom data attributes are okay */\n  let ALLOW_DATA_ATTR = true;\n  /* Decide if unknown protocols are okay */\n  let ALLOW_UNKNOWN_PROTOCOLS = false;\n  /* Decide if self-closing tags in attributes are allowed.\n   * Usually removed due to a mXSS issue in jQuery 3.0 */\n  let ALLOW_SELF_CLOSE_IN_ATTR = true;\n  /* Output should be safe for common template engines.\n   * This means, DOMPurify removes data attributes, mustaches and ERB\n   */\n  let SAFE_FOR_TEMPLATES = false;\n  /* Output should be safe even for XML used within HTML and alike.\n   * This means, DOMPurify removes comments when containing risky content.\n   */\n  let SAFE_FOR_XML = true;\n  /* Decide if document with <html>... should be returned */\n  let WHOLE_DOCUMENT = false;\n  /* Track whether config is already set on this instance of DOMPurify. */\n  let SET_CONFIG = false;\n  /* Decide if all elements (e.g. style, script) must be children of\n   * document.body. By default, browsers might move them to document.head */\n  let FORCE_BODY = false;\n  /* Decide if a DOM `HTMLBodyElement` should be returned, instead of a html\n   * string (or a TrustedHTML object if Trusted Types are supported).\n   * If `WHOLE_DOCUMENT` is enabled a `HTMLHtmlElement` will be returned instead\n   */\n  let RETURN_DOM = false;\n  /* Decide if a DOM `DocumentFragment` should be returned, instead of a html\n   * string  (or a TrustedHTML object if Trusted Types are supported) */\n  let RETURN_DOM_FRAGMENT = false;\n  /* Try to return a Trusted Type object instead of a string, return a string in\n   * case Trusted Types are not supported  */\n  let RETURN_TRUSTED_TYPE = false;\n  /* Output should be free from DOM clobbering attacks?\n   * This sanitizes markups named with colliding, clobberable built-in DOM APIs.\n   */\n  let SANITIZE_DOM = true;\n  /* Achieve full DOM Clobbering protection by isolating the namespace of named\n   * properties and JS variables, mitigating attacks that abuse the HTML/DOM spec rules.\n   *\n   * HTML/DOM spec rules that enable DOM Clobbering:\n   *   - Named Access on Window (7.3.3)\n   *   - DOM Tree Accessors (3.1.5)\n   *   - Form Element Parent-Child Relations (4.10.3)\n   *   - Iframe srcdoc / Nested WindowProxies (4.8.5)\n   *   - HTMLCollection (4.2.10.2)\n   *\n   * Namespace isolation is implemented by prefixing `id` and `name` attributes\n   * with a constant string, i.e., `user-content-`\n   */\n  let SANITIZE_NAMED_PROPS = false;\n  const SANITIZE_NAMED_PROPS_PREFIX = 'user-content-';\n  /* Keep element content when removing element? */\n  let KEEP_CONTENT = true;\n  /* If a `Node` is passed to sanitize(), then performs sanitization in-place instead\n   * of importing it into a new Document and returning a sanitized copy */\n  let IN_PLACE = false;\n  /* Allow usage of profiles like html, svg and mathMl */\n  let USE_PROFILES = {};\n  /* Tags to ignore content of when KEEP_CONTENT is true */\n  let FORBID_CONTENTS = null;\n  const DEFAULT_FORBID_CONTENTS = addToSet({}, ['annotation-xml', 'audio', 'colgroup', 'desc', 'foreignobject', 'head', 'iframe', 'math', 'mi', 'mn', 'mo', 'ms', 'mtext', 'noembed', 'noframes', 'noscript', 'plaintext', 'script', 'style', 'svg', 'template', 'thead', 'title', 'video', 'xmp']);\n  /* Tags that are safe for data: URIs */\n  let DATA_URI_TAGS = null;\n  const DEFAULT_DATA_URI_TAGS = addToSet({}, ['audio', 'video', 'img', 'source', 'image', 'track']);\n  /* Attributes safe for values like \"javascript:\" */\n  let URI_SAFE_ATTRIBUTES = null;\n  const DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, ['alt', 'class', 'for', 'id', 'label', 'name', 'pattern', 'placeholder', 'role', 'summary', 'title', 'value', 'style', 'xmlns']);\n  const MATHML_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n  const SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\n  const HTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\n  /* Document namespace */\n  let NAMESPACE = HTML_NAMESPACE;\n  let IS_EMPTY_INPUT = false;\n  /* Allowed XHTML+XML namespaces */\n  let ALLOWED_NAMESPACES = null;\n  const DEFAULT_ALLOWED_NAMESPACES = addToSet({}, [MATHML_NAMESPACE, SVG_NAMESPACE, HTML_NAMESPACE], stringToString);\n  let MATHML_TEXT_INTEGRATION_POINTS = addToSet({}, ['mi', 'mo', 'mn', 'ms', 'mtext']);\n  let HTML_INTEGRATION_POINTS = addToSet({}, ['annotation-xml']);\n  // Certain elements are allowed in both SVG and HTML\n  // namespace. We need to specify them explicitly\n  // so that they don't get erroneously deleted from\n  // HTML namespace.\n  const COMMON_SVG_AND_HTML_ELEMENTS = addToSet({}, ['title', 'style', 'font', 'a', 'script']);\n  /* Parsing of strict XHTML documents */\n  let PARSER_MEDIA_TYPE = null;\n  const SUPPORTED_PARSER_MEDIA_TYPES = ['application/xhtml+xml', 'text/html'];\n  const DEFAULT_PARSER_MEDIA_TYPE = 'text/html';\n  let transformCaseFunc = null;\n  /* Keep a reference to config to pass to hooks */\n  let CONFIG = null;\n  /* Ideally, do not touch anything below this line */\n  /* ______________________________________________ */\n  const formElement = document.createElement('form');\n  const isRegexOrFunction = function isRegexOrFunction(testValue) {\n    return testValue instanceof RegExp || testValue instanceof Function;\n  };\n  /**\n   * _parseConfig\n   *\n   * @param cfg optional config literal\n   */\n  // eslint-disable-next-line complexity\n  const _parseConfig = function _parseConfig() {\n    let cfg = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    if (CONFIG && CONFIG === cfg) {\n      return;\n    }\n    /* Shield configuration object from tampering */\n    if (!cfg || typeof cfg !== 'object') {\n      cfg = {};\n    }\n    /* Shield configuration object from prototype pollution */\n    cfg = clone(cfg);\n    PARSER_MEDIA_TYPE =\n    // eslint-disable-next-line unicorn/prefer-includes\n    SUPPORTED_PARSER_MEDIA_TYPES.indexOf(cfg.PARSER_MEDIA_TYPE) === -1 ? DEFAULT_PARSER_MEDIA_TYPE : cfg.PARSER_MEDIA_TYPE;\n    // HTML tags and attributes are not case-sensitive, converting to lowercase. Keeping XHTML as is.\n    transformCaseFunc = PARSER_MEDIA_TYPE === 'application/xhtml+xml' ? stringToString : stringToLowerCase;\n    /* Set configuration parameters */\n    ALLOWED_TAGS = objectHasOwnProperty(cfg, 'ALLOWED_TAGS') ? addToSet({}, cfg.ALLOWED_TAGS, transformCaseFunc) : DEFAULT_ALLOWED_TAGS;\n    ALLOWED_ATTR = objectHasOwnProperty(cfg, 'ALLOWED_ATTR') ? addToSet({}, cfg.ALLOWED_ATTR, transformCaseFunc) : DEFAULT_ALLOWED_ATTR;\n    ALLOWED_NAMESPACES = objectHasOwnProperty(cfg, 'ALLOWED_NAMESPACES') ? addToSet({}, cfg.ALLOWED_NAMESPACES, stringToString) : DEFAULT_ALLOWED_NAMESPACES;\n    URI_SAFE_ATTRIBUTES = objectHasOwnProperty(cfg, 'ADD_URI_SAFE_ATTR') ? addToSet(clone(DEFAULT_URI_SAFE_ATTRIBUTES), cfg.ADD_URI_SAFE_ATTR, transformCaseFunc) : DEFAULT_URI_SAFE_ATTRIBUTES;\n    DATA_URI_TAGS = objectHasOwnProperty(cfg, 'ADD_DATA_URI_TAGS') ? addToSet(clone(DEFAULT_DATA_URI_TAGS), cfg.ADD_DATA_URI_TAGS, transformCaseFunc) : DEFAULT_DATA_URI_TAGS;\n    FORBID_CONTENTS = objectHasOwnProperty(cfg, 'FORBID_CONTENTS') ? addToSet({}, cfg.FORBID_CONTENTS, transformCaseFunc) : DEFAULT_FORBID_CONTENTS;\n    FORBID_TAGS = objectHasOwnProperty(cfg, 'FORBID_TAGS') ? addToSet({}, cfg.FORBID_TAGS, transformCaseFunc) : {};\n    FORBID_ATTR = objectHasOwnProperty(cfg, 'FORBID_ATTR') ? addToSet({}, cfg.FORBID_ATTR, transformCaseFunc) : {};\n    USE_PROFILES = objectHasOwnProperty(cfg, 'USE_PROFILES') ? cfg.USE_PROFILES : false;\n    ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false; // Default true\n    ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false; // Default true\n    ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false; // Default false\n    ALLOW_SELF_CLOSE_IN_ATTR = cfg.ALLOW_SELF_CLOSE_IN_ATTR !== false; // Default true\n    SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false; // Default false\n    SAFE_FOR_XML = cfg.SAFE_FOR_XML !== false; // Default true\n    WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false; // Default false\n    RETURN_DOM = cfg.RETURN_DOM || false; // Default false\n    RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false; // Default false\n    RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false; // Default false\n    FORCE_BODY = cfg.FORCE_BODY || false; // Default false\n    SANITIZE_DOM = cfg.SANITIZE_DOM !== false; // Default true\n    SANITIZE_NAMED_PROPS = cfg.SANITIZE_NAMED_PROPS || false; // Default false\n    KEEP_CONTENT = cfg.KEEP_CONTENT !== false; // Default true\n    IN_PLACE = cfg.IN_PLACE || false; // Default false\n    IS_ALLOWED_URI$1 = cfg.ALLOWED_URI_REGEXP || IS_ALLOWED_URI;\n    NAMESPACE = cfg.NAMESPACE || HTML_NAMESPACE;\n    MATHML_TEXT_INTEGRATION_POINTS = cfg.MATHML_TEXT_INTEGRATION_POINTS || MATHML_TEXT_INTEGRATION_POINTS;\n    HTML_INTEGRATION_POINTS = cfg.HTML_INTEGRATION_POINTS || HTML_INTEGRATION_POINTS;\n    CUSTOM_ELEMENT_HANDLING = cfg.CUSTOM_ELEMENT_HANDLING || {};\n    if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck)) {\n      CUSTOM_ELEMENT_HANDLING.tagNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck;\n    }\n    if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)) {\n      CUSTOM_ELEMENT_HANDLING.attributeNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;\n    }\n    if (cfg.CUSTOM_ELEMENT_HANDLING && typeof cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements === 'boolean') {\n      CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements = cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;\n    }\n    if (SAFE_FOR_TEMPLATES) {\n      ALLOW_DATA_ATTR = false;\n    }\n    if (RETURN_DOM_FRAGMENT) {\n      RETURN_DOM = true;\n    }\n    /* Parse profile info */\n    if (USE_PROFILES) {\n      ALLOWED_TAGS = addToSet({}, text);\n      ALLOWED_ATTR = [];\n      if (USE_PROFILES.html === true) {\n        addToSet(ALLOWED_TAGS, html$1);\n        addToSet(ALLOWED_ATTR, html);\n      }\n      if (USE_PROFILES.svg === true) {\n        addToSet(ALLOWED_TAGS, svg$1);\n        addToSet(ALLOWED_ATTR, svg);\n        addToSet(ALLOWED_ATTR, xml);\n      }\n      if (USE_PROFILES.svgFilters === true) {\n        addToSet(ALLOWED_TAGS, svgFilters);\n        addToSet(ALLOWED_ATTR, svg);\n        addToSet(ALLOWED_ATTR, xml);\n      }\n      if (USE_PROFILES.mathMl === true) {\n        addToSet(ALLOWED_TAGS, mathMl$1);\n        addToSet(ALLOWED_ATTR, mathMl);\n        addToSet(ALLOWED_ATTR, xml);\n      }\n    }\n    /* Merge configuration parameters */\n    if (cfg.ADD_TAGS) {\n      if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n        ALLOWED_TAGS = clone(ALLOWED_TAGS);\n      }\n      addToSet(ALLOWED_TAGS, cfg.ADD_TAGS, transformCaseFunc);\n    }\n    if (cfg.ADD_ATTR) {\n      if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n        ALLOWED_ATTR = clone(ALLOWED_ATTR);\n      }\n      addToSet(ALLOWED_ATTR, cfg.ADD_ATTR, transformCaseFunc);\n    }\n    if (cfg.ADD_URI_SAFE_ATTR) {\n      addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR, transformCaseFunc);\n    }\n    if (cfg.FORBID_CONTENTS) {\n      if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {\n        FORBID_CONTENTS = clone(FORBID_CONTENTS);\n      }\n      addToSet(FORBID_CONTENTS, cfg.FORBID_CONTENTS, transformCaseFunc);\n    }\n    /* Add #text in case KEEP_CONTENT is set to true */\n    if (KEEP_CONTENT) {\n      ALLOWED_TAGS['#text'] = true;\n    }\n    /* Add html, head and body to ALLOWED_TAGS in case WHOLE_DOCUMENT is true */\n    if (WHOLE_DOCUMENT) {\n      addToSet(ALLOWED_TAGS, ['html', 'head', 'body']);\n    }\n    /* Add tbody to ALLOWED_TAGS in case tables are permitted, see #286, #365 */\n    if (ALLOWED_TAGS.table) {\n      addToSet(ALLOWED_TAGS, ['tbody']);\n      delete FORBID_TAGS.tbody;\n    }\n    if (cfg.TRUSTED_TYPES_POLICY) {\n      if (typeof cfg.TRUSTED_TYPES_POLICY.createHTML !== 'function') {\n        throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a \"createHTML\" hook.');\n      }\n      if (typeof cfg.TRUSTED_TYPES_POLICY.createScriptURL !== 'function') {\n        throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a \"createScriptURL\" hook.');\n      }\n      // Overwrite existing TrustedTypes policy.\n      trustedTypesPolicy = cfg.TRUSTED_TYPES_POLICY;\n      // Sign local variables required by `sanitize`.\n      emptyHTML = trustedTypesPolicy.createHTML('');\n    } else {\n      // Uninitialized policy, attempt to initialize the internal dompurify policy.\n      if (trustedTypesPolicy === undefined) {\n        trustedTypesPolicy = _createTrustedTypesPolicy(trustedTypes, currentScript);\n      }\n      // If creating the internal policy succeeded sign internal variables.\n      if (trustedTypesPolicy !== null && typeof emptyHTML === 'string') {\n        emptyHTML = trustedTypesPolicy.createHTML('');\n      }\n    }\n    // Prevent further manipulation of configuration.\n    // Not available in IE8, Safari 5, etc.\n    if (freeze) {\n      freeze(cfg);\n    }\n    CONFIG = cfg;\n  };\n  /* Keep track of all possible SVG and MathML tags\n   * so that we can perform the namespace checks\n   * correctly. */\n  const ALL_SVG_TAGS = addToSet({}, [...svg$1, ...svgFilters, ...svgDisallowed]);\n  const ALL_MATHML_TAGS = addToSet({}, [...mathMl$1, ...mathMlDisallowed]);\n  /**\n   * @param element a DOM element whose namespace is being checked\n   * @returns Return false if the element has a\n   *  namespace that a spec-compliant parser would never\n   *  return. Return true otherwise.\n   */\n  const _checkValidNamespace = function _checkValidNamespace(element) {\n    let parent = getParentNode(element);\n    // In JSDOM, if we're inside shadow DOM, then parentNode\n    // can be null. We just simulate parent in this case.\n    if (!parent || !parent.tagName) {\n      parent = {\n        namespaceURI: NAMESPACE,\n        tagName: 'template'\n      };\n    }\n    const tagName = stringToLowerCase(element.tagName);\n    const parentTagName = stringToLowerCase(parent.tagName);\n    if (!ALLOWED_NAMESPACES[element.namespaceURI]) {\n      return false;\n    }\n    if (element.namespaceURI === SVG_NAMESPACE) {\n      // The only way to switch from HTML namespace to SVG\n      // is via <svg>. If it happens via any other tag, then\n      // it should be killed.\n      if (parent.namespaceURI === HTML_NAMESPACE) {\n        return tagName === 'svg';\n      }\n      // The only way to switch from MathML to SVG is via`\n      // svg if parent is either <annotation-xml> or MathML\n      // text integration points.\n      if (parent.namespaceURI === MATHML_NAMESPACE) {\n        return tagName === 'svg' && (parentTagName === 'annotation-xml' || MATHML_TEXT_INTEGRATION_POINTS[parentTagName]);\n      }\n      // We only allow elements that are defined in SVG\n      // spec. All others are disallowed in SVG namespace.\n      return Boolean(ALL_SVG_TAGS[tagName]);\n    }\n    if (element.namespaceURI === MATHML_NAMESPACE) {\n      // The only way to switch from HTML namespace to MathML\n      // is via <math>. If it happens via any other tag, then\n      // it should be killed.\n      if (parent.namespaceURI === HTML_NAMESPACE) {\n        return tagName === 'math';\n      }\n      // The only way to switch from SVG to MathML is via\n      // <math> and HTML integration points\n      if (parent.namespaceURI === SVG_NAMESPACE) {\n        return tagName === 'math' && HTML_INTEGRATION_POINTS[parentTagName];\n      }\n      // We only allow elements that are defined in MathML\n      // spec. All others are disallowed in MathML namespace.\n      return Boolean(ALL_MATHML_TAGS[tagName]);\n    }\n    if (element.namespaceURI === HTML_NAMESPACE) {\n      // The only way to switch from SVG to HTML is via\n      // HTML integration points, and from MathML to HTML\n      // is via MathML text integration points\n      if (parent.namespaceURI === SVG_NAMESPACE && !HTML_INTEGRATION_POINTS[parentTagName]) {\n        return false;\n      }\n      if (parent.namespaceURI === MATHML_NAMESPACE && !MATHML_TEXT_INTEGRATION_POINTS[parentTagName]) {\n        return false;\n      }\n      // We disallow tags that are specific for MathML\n      // or SVG and should never appear in HTML namespace\n      return !ALL_MATHML_TAGS[tagName] && (COMMON_SVG_AND_HTML_ELEMENTS[tagName] || !ALL_SVG_TAGS[tagName]);\n    }\n    // For XHTML and XML documents that support custom namespaces\n    if (PARSER_MEDIA_TYPE === 'application/xhtml+xml' && ALLOWED_NAMESPACES[element.namespaceURI]) {\n      return true;\n    }\n    // The code should never reach this place (this means\n    // that the element somehow got namespace that is not\n    // HTML, SVG, MathML or allowed via ALLOWED_NAMESPACES).\n    // Return false just in case.\n    return false;\n  };\n  /**\n   * _forceRemove\n   *\n   * @param node a DOM node\n   */\n  const _forceRemove = function _forceRemove(node) {\n    arrayPush(DOMPurify.removed, {\n      element: node\n    });\n    try {\n      // eslint-disable-next-line unicorn/prefer-dom-node-remove\n      getParentNode(node).removeChild(node);\n    } catch (_) {\n      remove(node);\n    }\n  };\n  /**\n   * _removeAttribute\n   *\n   * @param name an Attribute name\n   * @param element a DOM node\n   */\n  const _removeAttribute = function _removeAttribute(name, element) {\n    try {\n      arrayPush(DOMPurify.removed, {\n        attribute: element.getAttributeNode(name),\n        from: element\n      });\n    } catch (_) {\n      arrayPush(DOMPurify.removed, {\n        attribute: null,\n        from: element\n      });\n    }\n    element.removeAttribute(name);\n    // We void attribute values for unremovable \"is\" attributes\n    if (name === 'is') {\n      if (RETURN_DOM || RETURN_DOM_FRAGMENT) {\n        try {\n          _forceRemove(element);\n        } catch (_) {}\n      } else {\n        try {\n          element.setAttribute(name, '');\n        } catch (_) {}\n      }\n    }\n  };\n  /**\n   * _initDocument\n   *\n   * @param dirty - a string of dirty markup\n   * @return a DOM, filled with the dirty markup\n   */\n  const _initDocument = function _initDocument(dirty) {\n    /* Create a HTML document */\n    let doc = null;\n    let leadingWhitespace = null;\n    if (FORCE_BODY) {\n      dirty = '<remove></remove>' + dirty;\n    } else {\n      /* If FORCE_BODY isn't used, leading whitespace needs to be preserved manually */\n      const matches = stringMatch(dirty, /^[\\r\\n\\t ]+/);\n      leadingWhitespace = matches && matches[0];\n    }\n    if (PARSER_MEDIA_TYPE === 'application/xhtml+xml' && NAMESPACE === HTML_NAMESPACE) {\n      // Root of XHTML doc must contain xmlns declaration (see https://www.w3.org/TR/xhtml1/normative.html#strict)\n      dirty = '<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>' + dirty + '</body></html>';\n    }\n    const dirtyPayload = trustedTypesPolicy ? trustedTypesPolicy.createHTML(dirty) : dirty;\n    /*\n     * Use the DOMParser API by default, fallback later if needs be\n     * DOMParser not work for svg when has multiple root element.\n     */\n    if (NAMESPACE === HTML_NAMESPACE) {\n      try {\n        doc = new DOMParser().parseFromString(dirtyPayload, PARSER_MEDIA_TYPE);\n      } catch (_) {}\n    }\n    /* Use createHTMLDocument in case DOMParser is not available */\n    if (!doc || !doc.documentElement) {\n      doc = implementation.createDocument(NAMESPACE, 'template', null);\n      try {\n        doc.documentElement.innerHTML = IS_EMPTY_INPUT ? emptyHTML : dirtyPayload;\n      } catch (_) {\n        // Syntax error if dirtyPayload is invalid xml\n      }\n    }\n    const body = doc.body || doc.documentElement;\n    if (dirty && leadingWhitespace) {\n      body.insertBefore(document.createTextNode(leadingWhitespace), body.childNodes[0] || null);\n    }\n    /* Work on whole document or just its body */\n    if (NAMESPACE === HTML_NAMESPACE) {\n      return getElementsByTagName.call(doc, WHOLE_DOCUMENT ? 'html' : 'body')[0];\n    }\n    return WHOLE_DOCUMENT ? doc.documentElement : body;\n  };\n  /**\n   * Creates a NodeIterator object that you can use to traverse filtered lists of nodes or elements in a document.\n   *\n   * @param root The root element or node to start traversing on.\n   * @return The created NodeIterator\n   */\n  const _createNodeIterator = function _createNodeIterator(root) {\n    return createNodeIterator.call(root.ownerDocument || root, root,\n    // eslint-disable-next-line no-bitwise\n    NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT | NodeFilter.SHOW_TEXT | NodeFilter.SHOW_PROCESSING_INSTRUCTION | NodeFilter.SHOW_CDATA_SECTION, null);\n  };\n  /**\n   * _isClobbered\n   *\n   * @param element element to check for clobbering attacks\n   * @return true if clobbered, false if safe\n   */\n  const _isClobbered = function _isClobbered(element) {\n    return element instanceof HTMLFormElement && (typeof element.nodeName !== 'string' || typeof element.textContent !== 'string' || typeof element.removeChild !== 'function' || !(element.attributes instanceof NamedNodeMap) || typeof element.removeAttribute !== 'function' || typeof element.setAttribute !== 'function' || typeof element.namespaceURI !== 'string' || typeof element.insertBefore !== 'function' || typeof element.hasChildNodes !== 'function');\n  };\n  /**\n   * Checks whether the given object is a DOM node.\n   *\n   * @param value object to check whether it's a DOM node\n   * @return true is object is a DOM node\n   */\n  const _isNode = function _isNode(value) {\n    return typeof Node === 'function' && value instanceof Node;\n  };\n  function _executeHooks(hooks, currentNode, data) {\n    arrayForEach(hooks, hook => {\n      hook.call(DOMPurify, currentNode, data, CONFIG);\n    });\n  }\n  /**\n   * _sanitizeElements\n   *\n   * @protect nodeName\n   * @protect textContent\n   * @protect removeChild\n   * @param currentNode to check for permission to exist\n   * @return true if node was killed, false if left alive\n   */\n  const _sanitizeElements = function _sanitizeElements(currentNode) {\n    let content = null;\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeElements, currentNode, null);\n    /* Check if element is clobbered or can clobber */\n    if (_isClobbered(currentNode)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Now let's check the element's type and name */\n    const tagName = transformCaseFunc(currentNode.nodeName);\n    /* Execute a hook if present */\n    _executeHooks(hooks.uponSanitizeElement, currentNode, {\n      tagName,\n      allowedTags: ALLOWED_TAGS\n    });\n    /* Detect mXSS attempts abusing namespace confusion */\n    if (currentNode.hasChildNodes() && !_isNode(currentNode.firstElementChild) && regExpTest(/<[/\\w]/g, currentNode.innerHTML) && regExpTest(/<[/\\w]/g, currentNode.textContent)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Remove any occurrence of processing instructions */\n    if (currentNode.nodeType === NODE_TYPE.progressingInstruction) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Remove any kind of possibly harmful comments */\n    if (SAFE_FOR_XML && currentNode.nodeType === NODE_TYPE.comment && regExpTest(/<[/\\w]/g, currentNode.data)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Remove element if anything forbids its presence */\n    if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n      /* Check if we have a custom element to handle */\n      if (!FORBID_TAGS[tagName] && _isBasicCustomElement(tagName)) {\n        if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, tagName)) {\n          return false;\n        }\n        if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(tagName)) {\n          return false;\n        }\n      }\n      /* Keep content except for bad-listed elements */\n      if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]) {\n        const parentNode = getParentNode(currentNode) || currentNode.parentNode;\n        const childNodes = getChildNodes(currentNode) || currentNode.childNodes;\n        if (childNodes && parentNode) {\n          const childCount = childNodes.length;\n          for (let i = childCount - 1; i >= 0; --i) {\n            const childClone = cloneNode(childNodes[i], true);\n            childClone.__removalCount = (currentNode.__removalCount || 0) + 1;\n            parentNode.insertBefore(childClone, getNextSibling(currentNode));\n          }\n        }\n      }\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Check whether element has a valid namespace */\n    if (currentNode instanceof Element && !_checkValidNamespace(currentNode)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Make sure that older browsers don't get fallback-tag mXSS */\n    if ((tagName === 'noscript' || tagName === 'noembed' || tagName === 'noframes') && regExpTest(/<\\/no(script|embed|frames)/i, currentNode.innerHTML)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Sanitize element content to be template-safe */\n    if (SAFE_FOR_TEMPLATES && currentNode.nodeType === NODE_TYPE.text) {\n      /* Get the element's text content */\n      content = currentNode.textContent;\n      arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], expr => {\n        content = stringReplace(content, expr, ' ');\n      });\n      if (currentNode.textContent !== content) {\n        arrayPush(DOMPurify.removed, {\n          element: currentNode.cloneNode()\n        });\n        currentNode.textContent = content;\n      }\n    }\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeElements, currentNode, null);\n    return false;\n  };\n  /**\n   * _isValidAttribute\n   *\n   * @param lcTag Lowercase tag name of containing element.\n   * @param lcName Lowercase attribute name.\n   * @param value Attribute value.\n   * @return Returns true if `value` is valid, otherwise false.\n   */\n  // eslint-disable-next-line complexity\n  const _isValidAttribute = function _isValidAttribute(lcTag, lcName, value) {\n    /* Make sure attribute cannot clobber */\n    if (SANITIZE_DOM && (lcName === 'id' || lcName === 'name') && (value in document || value in formElement)) {\n      return false;\n    }\n    /* Allow valid data-* attributes: At least one character after \"-\"\n        (https://html.spec.whatwg.org/multipage/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes)\n        XML-compatible (https://html.spec.whatwg.org/multipage/infrastructure.html#xml-compatible and http://www.w3.org/TR/xml/#d0e804)\n        We don't need to check the value; it's always URI safe. */\n    if (ALLOW_DATA_ATTR && !FORBID_ATTR[lcName] && regExpTest(DATA_ATTR, lcName)) ; else if (ALLOW_ARIA_ATTR && regExpTest(ARIA_ATTR, lcName)) ; else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n      if (\n      // First condition does a very basic check if a) it's basically a valid custom element tagname AND\n      // b) if the tagName passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n      // and c) if the attribute name passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.attributeNameCheck\n      _isBasicCustomElement(lcTag) && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, lcTag) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(lcTag)) && (CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.attributeNameCheck, lcName) || CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.attributeNameCheck(lcName)) ||\n      // Alternative, second condition checks if it's an `is`-attribute, AND\n      // the value passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n      lcName === 'is' && CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, value) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(value))) ; else {\n        return false;\n      }\n      /* Check value is safe. First, is attr inert? If so, is safe */\n    } else if (URI_SAFE_ATTRIBUTES[lcName]) ; else if (regExpTest(IS_ALLOWED_URI$1, stringReplace(value, ATTR_WHITESPACE, ''))) ; else if ((lcName === 'src' || lcName === 'xlink:href' || lcName === 'href') && lcTag !== 'script' && stringIndexOf(value, 'data:') === 0 && DATA_URI_TAGS[lcTag]) ; else if (ALLOW_UNKNOWN_PROTOCOLS && !regExpTest(IS_SCRIPT_OR_DATA, stringReplace(value, ATTR_WHITESPACE, ''))) ; else if (value) {\n      return false;\n    } else ;\n    return true;\n  };\n  /**\n   * _isBasicCustomElement\n   * checks if at least one dash is included in tagName, and it's not the first char\n   * for more sophisticated checking see https://github.com/sindresorhus/validate-element-name\n   *\n   * @param tagName name of the tag of the node to sanitize\n   * @returns Returns true if the tag name meets the basic criteria for a custom element, otherwise false.\n   */\n  const _isBasicCustomElement = function _isBasicCustomElement(tagName) {\n    return tagName !== 'annotation-xml' && stringMatch(tagName, CUSTOM_ELEMENT);\n  };\n  /**\n   * _sanitizeAttributes\n   *\n   * @protect attributes\n   * @protect nodeName\n   * @protect removeAttribute\n   * @protect setAttribute\n   *\n   * @param currentNode to sanitize\n   */\n  const _sanitizeAttributes = function _sanitizeAttributes(currentNode) {\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeAttributes, currentNode, null);\n    const {\n      attributes\n    } = currentNode;\n    /* Check if we have attributes; if not we might have a text node */\n    if (!attributes) {\n      return;\n    }\n    const hookEvent = {\n      attrName: '',\n      attrValue: '',\n      keepAttr: true,\n      allowedAttributes: ALLOWED_ATTR,\n      forceKeepAttr: undefined\n    };\n    let l = attributes.length;\n    /* Go backwards over all attributes; safely remove bad ones */\n    while (l--) {\n      const attr = attributes[l];\n      const {\n        name,\n        namespaceURI,\n        value: attrValue\n      } = attr;\n      const lcName = transformCaseFunc(name);\n      let value = name === 'value' ? attrValue : stringTrim(attrValue);\n      /* Execute a hook if present */\n      hookEvent.attrName = lcName;\n      hookEvent.attrValue = value;\n      hookEvent.keepAttr = true;\n      hookEvent.forceKeepAttr = undefined; // Allows developers to see this is a property they can set\n      _executeHooks(hooks.uponSanitizeAttribute, currentNode, hookEvent);\n      value = hookEvent.attrValue;\n      /* Full DOM Clobbering protection via namespace isolation,\n       * Prefix id and name attributes with `user-content-`\n       */\n      if (SANITIZE_NAMED_PROPS && (lcName === 'id' || lcName === 'name')) {\n        // Remove the attribute with this value\n        _removeAttribute(name, currentNode);\n        // Prefix the value and later re-create the attribute with the sanitized value\n        value = SANITIZE_NAMED_PROPS_PREFIX + value;\n      }\n      /* Work around a security issue with comments inside attributes */\n      if (SAFE_FOR_XML && regExpTest(/((--!?|])>)|<\\/(style|title)/i, value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n      /* Did the hooks approve of the attribute? */\n      if (hookEvent.forceKeepAttr) {\n        continue;\n      }\n      /* Remove attribute */\n      _removeAttribute(name, currentNode);\n      /* Did the hooks approve of the attribute? */\n      if (!hookEvent.keepAttr) {\n        continue;\n      }\n      /* Work around a security issue in jQuery 3.0 */\n      if (!ALLOW_SELF_CLOSE_IN_ATTR && regExpTest(/\\/>/i, value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n      /* Sanitize attribute content to be template-safe */\n      if (SAFE_FOR_TEMPLATES) {\n        arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], expr => {\n          value = stringReplace(value, expr, ' ');\n        });\n      }\n      /* Is `value` valid for this attribute? */\n      const lcTag = transformCaseFunc(currentNode.nodeName);\n      if (!_isValidAttribute(lcTag, lcName, value)) {\n        continue;\n      }\n      /* Handle attributes that require Trusted Types */\n      if (trustedTypesPolicy && typeof trustedTypes === 'object' && typeof trustedTypes.getAttributeType === 'function') {\n        if (namespaceURI) ; else {\n          switch (trustedTypes.getAttributeType(lcTag, lcName)) {\n            case 'TrustedHTML':\n              {\n                value = trustedTypesPolicy.createHTML(value);\n                break;\n              }\n            case 'TrustedScriptURL':\n              {\n                value = trustedTypesPolicy.createScriptURL(value);\n                break;\n              }\n          }\n        }\n      }\n      /* Handle invalid data-* attribute set by try-catching it */\n      try {\n        if (namespaceURI) {\n          currentNode.setAttributeNS(namespaceURI, name, value);\n        } else {\n          /* Fallback to setAttribute() for browser-unrecognized namespaces e.g. \"x-schema\". */\n          currentNode.setAttribute(name, value);\n        }\n        if (_isClobbered(currentNode)) {\n          _forceRemove(currentNode);\n        } else {\n          arrayPop(DOMPurify.removed);\n        }\n      } catch (_) {}\n    }\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeAttributes, currentNode, null);\n  };\n  /**\n   * _sanitizeShadowDOM\n   *\n   * @param fragment to iterate over recursively\n   */\n  const _sanitizeShadowDOM = function _sanitizeShadowDOM(fragment) {\n    let shadowNode = null;\n    const shadowIterator = _createNodeIterator(fragment);\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeShadowDOM, fragment, null);\n    while (shadowNode = shadowIterator.nextNode()) {\n      /* Execute a hook if present */\n      _executeHooks(hooks.uponSanitizeShadowNode, shadowNode, null);\n      /* Sanitize tags and elements */\n      if (_sanitizeElements(shadowNode)) {\n        continue;\n      }\n      /* Deep shadow DOM detected */\n      if (shadowNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(shadowNode.content);\n      }\n      /* Check attributes, sanitize if necessary */\n      _sanitizeAttributes(shadowNode);\n    }\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeShadowDOM, fragment, null);\n  };\n  // eslint-disable-next-line complexity\n  DOMPurify.sanitize = function (dirty) {\n    let cfg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let body = null;\n    let importedNode = null;\n    let currentNode = null;\n    let returnNode = null;\n    /* Make sure we have a string to sanitize.\n      DO NOT return early, as this will return the wrong type if\n      the user has requested a DOM object rather than a string */\n    IS_EMPTY_INPUT = !dirty;\n    if (IS_EMPTY_INPUT) {\n      dirty = '<!-->';\n    }\n    /* Stringify, in case dirty is an object */\n    if (typeof dirty !== 'string' && !_isNode(dirty)) {\n      if (typeof dirty.toString === 'function') {\n        dirty = dirty.toString();\n        if (typeof dirty !== 'string') {\n          throw typeErrorCreate('dirty is not a string, aborting');\n        }\n      } else {\n        throw typeErrorCreate('toString is not a function');\n      }\n    }\n    /* Return dirty HTML if DOMPurify cannot run */\n    if (!DOMPurify.isSupported) {\n      return dirty;\n    }\n    /* Assign config vars */\n    if (!SET_CONFIG) {\n      _parseConfig(cfg);\n    }\n    /* Clean up removed elements */\n    DOMPurify.removed = [];\n    /* Check if dirty is correctly typed for IN_PLACE */\n    if (typeof dirty === 'string') {\n      IN_PLACE = false;\n    }\n    if (IN_PLACE) {\n      /* Do some early pre-sanitization to avoid unsafe root nodes */\n      if (dirty.nodeName) {\n        const tagName = transformCaseFunc(dirty.nodeName);\n        if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n          throw typeErrorCreate('root node is forbidden and cannot be sanitized in-place');\n        }\n      }\n    } else if (dirty instanceof Node) {\n      /* If dirty is a DOM element, append to an empty document to avoid\n         elements being stripped by the parser */\n      body = _initDocument('<!---->');\n      importedNode = body.ownerDocument.importNode(dirty, true);\n      if (importedNode.nodeType === NODE_TYPE.element && importedNode.nodeName === 'BODY') {\n        /* Node is already a body, use as is */\n        body = importedNode;\n      } else if (importedNode.nodeName === 'HTML') {\n        body = importedNode;\n      } else {\n        // eslint-disable-next-line unicorn/prefer-dom-node-append\n        body.appendChild(importedNode);\n      }\n    } else {\n      /* Exit directly if we have nothing to do */\n      if (!RETURN_DOM && !SAFE_FOR_TEMPLATES && !WHOLE_DOCUMENT &&\n      // eslint-disable-next-line unicorn/prefer-includes\n      dirty.indexOf('<') === -1) {\n        return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(dirty) : dirty;\n      }\n      /* Initialize the document to work on */\n      body = _initDocument(dirty);\n      /* Check we have a DOM node from the data */\n      if (!body) {\n        return RETURN_DOM ? null : RETURN_TRUSTED_TYPE ? emptyHTML : '';\n      }\n    }\n    /* Remove first element node (ours) if FORCE_BODY is set */\n    if (body && FORCE_BODY) {\n      _forceRemove(body.firstChild);\n    }\n    /* Get node iterator */\n    const nodeIterator = _createNodeIterator(IN_PLACE ? dirty : body);\n    /* Now start iterating over the created document */\n    while (currentNode = nodeIterator.nextNode()) {\n      /* Sanitize tags and elements */\n      if (_sanitizeElements(currentNode)) {\n        continue;\n      }\n      /* Shadow DOM detected, sanitize it */\n      if (currentNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(currentNode.content);\n      }\n      /* Check attributes, sanitize if necessary */\n      _sanitizeAttributes(currentNode);\n    }\n    /* If we sanitized `dirty` in-place, return it. */\n    if (IN_PLACE) {\n      return dirty;\n    }\n    /* Return sanitized string or DOM */\n    if (RETURN_DOM) {\n      if (RETURN_DOM_FRAGMENT) {\n        returnNode = createDocumentFragment.call(body.ownerDocument);\n        while (body.firstChild) {\n          // eslint-disable-next-line unicorn/prefer-dom-node-append\n          returnNode.appendChild(body.firstChild);\n        }\n      } else {\n        returnNode = body;\n      }\n      if (ALLOWED_ATTR.shadowroot || ALLOWED_ATTR.shadowrootmode) {\n        /*\n          AdoptNode() is not used because internal state is not reset\n          (e.g. the past names map of a HTMLFormElement), this is safe\n          in theory but we would rather not risk another attack vector.\n          The state that is cloned by importNode() is explicitly defined\n          by the specs.\n        */\n        returnNode = importNode.call(originalDocument, returnNode, true);\n      }\n      return returnNode;\n    }\n    let serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n    /* Serialize doctype if allowed */\n    if (WHOLE_DOCUMENT && ALLOWED_TAGS['!doctype'] && body.ownerDocument && body.ownerDocument.doctype && body.ownerDocument.doctype.name && regExpTest(DOCTYPE_NAME, body.ownerDocument.doctype.name)) {\n      serializedHTML = '<!DOCTYPE ' + body.ownerDocument.doctype.name + '>\\n' + serializedHTML;\n    }\n    /* Sanitize final string template-safe */\n    if (SAFE_FOR_TEMPLATES) {\n      arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], expr => {\n        serializedHTML = stringReplace(serializedHTML, expr, ' ');\n      });\n    }\n    return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(serializedHTML) : serializedHTML;\n  };\n  DOMPurify.setConfig = function () {\n    let cfg = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    _parseConfig(cfg);\n    SET_CONFIG = true;\n  };\n  DOMPurify.clearConfig = function () {\n    CONFIG = null;\n    SET_CONFIG = false;\n  };\n  DOMPurify.isValidAttribute = function (tag, attr, value) {\n    /* Initialize shared config vars if necessary. */\n    if (!CONFIG) {\n      _parseConfig({});\n    }\n    const lcTag = transformCaseFunc(tag);\n    const lcName = transformCaseFunc(attr);\n    return _isValidAttribute(lcTag, lcName, value);\n  };\n  DOMPurify.addHook = function (entryPoint, hookFunction) {\n    if (typeof hookFunction !== 'function') {\n      return;\n    }\n    arrayPush(hooks[entryPoint], hookFunction);\n  };\n  DOMPurify.removeHook = function (entryPoint) {\n    return arrayPop(hooks[entryPoint]);\n  };\n  DOMPurify.removeHooks = function (entryPoint) {\n    hooks[entryPoint] = [];\n  };\n  DOMPurify.removeAllHooks = function () {\n    hooks = _createHooksMap();\n  };\n  return DOMPurify;\n}\nvar purify = createDOMPurify();\n\nexport { purify as default };\n//# sourceMappingURL=purify.es.mjs.map\n","import jquery from \"jquery\";\nimport { LitElement, css, html, nothing } from \"lit\";\nimport { repeat } from \"lit/directives/repeat.js\";\nimport { when } from \"lit/directives/when.js\";\nimport { classMap } from \"lit/directives/class-map.js\";\nimport { unsafeHTML } from \"lit/directives/unsafe-html.js\";\nimport DOMPurify from \"dompurify\";\n\nimport { LightDOMElement } from \"../application/elements\";\n\n/**\n * Notification\n *\n * Used internally and directly to render a notification API response. This\n * element is not rendered using element attributes, but it is possible to\n * pass in a full notification API response item via the ``notification``\n * object attribute.\n *\n * @param {Object} notification - Single item from notification API response\n * @param {string} csrfToken - CSRF token from Django, attribute ``csrf-token``\n * @param {Boolean} inverted - Whether the message is ``inverted`` variant\n **/\nexport class NotificationElement extends LightDOMElement {\n  static properties = {\n    csrfToken: { type: String, attribute: \"csrf-token\" },\n    notification: { state: true },\n    inverted: { type: Boolean },\n  };\n\n  render() {\n    if (this.notification === undefined || this.notification.message === null) {\n      return nothing;\n    }\n\n    // classMap can't be mixed with any other template logic inside ``class=``\n    // so we include all conditional logic outside.\n    const classes = {\n      // Explicitly always invert high level messages to make sure these are\n      // more visible than tip/note messages.\n      inverted:\n        this.inverted ||\n        [\"error\", \"warning\", \"info\"].includes(this.notification.message.type),\n    };\n    classes[this.notification.message.type] = true;\n\n    return html`\n      <div class=\"ui ${classMap(classes)} notification message\">\n        ${when(\n          this.notification.dismissable,\n          () => html`\n            <i\n              class=\"fas fa-xmark close inline icon\"\n              @click=${this.dismiss}\n            ></i>\n          `,\n        )}\n        <h5 class=\"header\">\n          <i class=\"fad ${this.notification.message.icon_classes} icon\"></i>\n          ${unsafeHTML(this.notification.message.header)}\n        </h5>\n        <p>${unsafeHTML(this.notification.message.body)}</p>\n      </div>\n    `;\n  }\n\n  dismiss() {\n    console.debug(\"Dismissing notification:\", this.notification.id);\n    const options = {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"X-CSRFToken\": this.csrfToken,\n      },\n      body: JSON.stringify({\n        state: \"dismissed\",\n      }),\n    };\n    fetch(this.notification._links._self, options)\n      .then((response) => {\n        if (!response.ok) {\n          throw new Error(\"Invalid API request\");\n        }\n        // Use FUI transition module to fade out and remove the notification\n        jquery(this).transition({\n          animation: \"fade\",\n          onComplete: () => {\n            this.parentElement.removeChild(this);\n          },\n        });\n      })\n      .catch((err) => {\n        console.error(\"Error dismissing notification\", err);\n      });\n  }\n}\n\n/**\n * NotificationListElement\n *\n * This is the wrapper to :js:class:`NotificationElement`, and provides the initial\n * API interaction to populate all of the notification element instances with\n * data.\n *\n * @param {string} url - APIv3 notification URL to use\n * @param {string} csrfToken - Django CSRF token\n * @param {string} state - Notification states to filter for\n * @param {Boolean} inverted - Whether inverted variant should be forced\n **/\nexport class NotificationListElement extends LightDOMElement {\n  static properties = {\n    url: { type: String },\n    csrfToken: { type: String, attribute: \"csrf-token\" },\n    state: { type: String },\n    inverted: { type: Boolean },\n\n    notifications: { state: true },\n    request: { state: true },\n  };\n\n  constructor() {\n    super();\n    this.state = \"read,unread\";\n  }\n\n  fetchNotifications() {\n    if (!this.url || this.request !== undefined) {\n      return;\n    }\n    const params = new URLSearchParams({\n      state__in: this.state,\n    });\n    this.request = fetch(`${this.url}?${params}`)\n      .then((response) => {\n        if (!response.ok) {\n          throw new Error(\"Request failed\");\n        }\n        return response.json();\n      })\n      .then((data) => {\n        if (data?.results === undefined) {\n          throw new Error(\"Invalid notification API response\");\n        }\n        return data.results;\n      })\n      .then((notifications) => {\n        if (notifications) {\n          this.notifications = notifications.map((notification) => {\n            notification.message.header = DOMPurify.sanitize(\n              notification.message.header,\n            );\n            notification.message.body = DOMPurify.sanitize(\n              notification.message.body,\n            );\n            return notification;\n          });\n        }\n      })\n      .catch((err) => {\n        console.error(`Error fetching notifications from ${this.url}`, err);\n      });\n  }\n\n  render() {\n    // Trigger async notification fetch\n    this.fetchNotifications();\n\n    if (this.notifications && this.notifications.length > 0) {\n      return repeat(\n        this.notifications,\n        (notification) => notification.id,\n        (notification, index) => {\n          const elem = document.createElement(\"readthedocs-notification\");\n          elem.notification = notification;\n          elem.csrfToken = this.csrfToken;\n          elem.inverted = this.inverted;\n\n          // For FUI .ui.list.item\n          elem.className = \"item\";\n          return elem;\n        },\n      );\n    } else {\n      return nothing;\n    }\n  }\n}\n\ncustomElements.define(\"readthedocs-notification\", NotificationElement);\ncustomElements.define(\"readthedocs-notification-list\", NotificationListElement);\n","import ko from \"knockout\";\nimport jquery from \"jquery\";\n\nimport { Registry } from \"../application/registry\";\n\nexport class PopupcardView {\n  static view_name = \"PopupcardView\";\n\n  constructor(url) {\n    this.url = url;\n\n    /** @observable {Boolean} Is the popup showing currently? */\n    this.is_showing = ko.observable(false);\n    this.is_showing.subscribe((is_showing) => {\n      if (is_showing) {\n        this.fetch();\n      }\n    });\n    /** @observable {Boolean} Is the popup loading from the API? */\n    this.is_loading = ko.observable(false);\n    /** @observable {Boolean} Is the popup loading from the API? */\n    this.is_loaded = ko.observable(false);\n\n    /** @computed */\n    this.popup = ko.observable();\n    /** @computed */\n    this.popup_config = ko.computed(() => {\n      const popup = this.popup();\n      if (ko.computedContext.isInitial()) {\n        return {\n          hoverable: true,\n          delay: {\n            show: 200,\n            hide: 200,\n          },\n          onShow: () => {\n            this.is_showing(true);\n          },\n          onHide: () => {\n            this.is_showing(false);\n          },\n        };\n      } else {\n        return popup;\n      }\n    });\n\n    /** @observable {Object} The response object from the API */\n    this.data = ko.observable();\n\n    this.promise = null;\n  }\n\n  fetch() {\n    if (!this.url) {\n      // This popupcard is for a local only request, there might not be an API\n      // to request from.\n      this.data({});\n      this.is_loaded(true);\n      this.is_loading(false);\n      return;\n    }\n    if (this.promise) {\n      return this.promise;\n    }\n    this.promise = new Promise((resolve, reject) => {\n      if (this.is_loaded()) {\n        return resolve(data);\n      }\n      this.is_loading(true);\n      jquery\n        .getJSON(this.url)\n        .then((data) => {\n          this.data(data);\n          this.is_loaded(true);\n          this.is_loading(false);\n          return resolve(data);\n        })\n        .catch((err) => {\n          reject(err);\n        });\n    }).catch((err) => {\n      console.debug(\"Error fetching from API:\", err.responseJSON);\n      this.is_loading(false);\n      this.is_loaded(false);\n    });\n  }\n\n  show() {\n    this.is_showing(true);\n  }\n\n  hide() {\n    this.is_showing(false);\n  }\n}\nRegistry.add_view(PopupcardView);\n","import ko from \"knockout\";\nimport jquery from \"jquery\";\n\nimport { Registry } from \"../application/registry\";\n\n/**\n * Organization authorization settings\n */\nexport class OrganizationSettingsAuthorizationView {\n  static view_name = \"OrganizationSettingsAuthorizationView\";\n\n  constructor() {\n    this.provider_original = undefined;\n    this.provider = ko.observable();\n\n    this.show_warning = ko.observable(false);\n    this.provider.subscribe(\n      (value) => {\n        if (this.provider_original === undefined) {\n          this.provider_original = value;\n        }\n      },\n      this,\n      \"beforeChange\",\n    );\n    this.provider.subscribe((value) => {\n      if (\n        this.provider_original !== undefined &&\n        value !== this.provider_original\n      ) {\n        this.show_warning(true);\n      } else {\n        this.show_warning(false);\n      }\n    });\n    this.use_domain = ko.computed(() => {\n      return this.provider() === \"email\";\n    });\n  }\n}\nRegistry.add_view(OrganizationSettingsAuthorizationView);\n\n/**\n * Organization creation\n */\nexport class OrganizationCreateView {\n  static view_name = \"OrganizationCreateView\";\n\n  constructor() {\n    this.name = ko.observable();\n    this.slug = ko.observable();\n    this.name.subscribe((name) => {\n      const slugified = this.slugify(name);\n      this.slug(slugified);\n    });\n    this.example = ko.computed(() => {\n      const slug = this.slug() || \"organization\";\n      const example = \"https://\" + slug + \"-project.readthedocs-hosted.com\";\n      return example;\n    });\n  }\n\n  slugify(val) {\n    if (!val) return \"\";\n    return (\n      val\n        .toString()\n        .toLowerCase()\n        .trim()\n        // Replace spaces, non-word chars, underscores and dashes with a single '-'\n        // Copied from Django, which is what we are using under the hood\n        // https://github.com/django/django/blob/1e9db35/django/utils/text.py#L469-L470\n        .replace(/[^\\w\\s-_]+/g, \"-\")\n        .replace(/[-\\s]+/g, \"-\")\n        // And then also replicate our dns_safe slugging from\n        // :py:method:`readthedocs.core.utils.sluggify`\n        .replace(/[\\-\\_]+/g, \"-\")\n        .replace(/^\\-+/, \"\")\n        .replace(/\\-+$/, \"\")\n    );\n  }\n}\nRegistry.add_view(OrganizationCreateView);\n","import jquery from \"jquery\";\nimport ko from \"knockout\";\n\nimport { Registry } from \"../application/registry\";\n\nimport { html, nothing, render } from \"lit\";\nimport { when } from \"lit/directives/when.js\";\nimport { classMap } from \"lit/directives/class-map.js\";\nimport { ref, createRef } from \"lit/directives/ref.js\";\nimport { map } from \"lit/directives/map.js\";\nimport { msg } from \"@lit/localize\";\n\nimport { LightDOMElement } from \"../application/elements\";\n\n/**\n * Combination field for project repository\n *\n * This element uses progressive enhancement of the existing form fields from\n * Django/Crispy. This web component adds dynamic interaction between the\n * fields and some additional UI elements to help describe what the user is\n * changing about the project.\n *\n * This uses :js:class:`InputFieldElement` and :js:class:`RichSelectFieldElement`\n * to isolate direct DOM manipulation from template driven web component logic.\n *\n * @property {String} label - Combination field label text\n *\n * @property {String} repoValue - Value for the repo field\n * @property {Boolean} repoError - Error state for the repo field\n * @property {String} remoteRepositoryValue - Value for the remote repository field\n * @property {String} remoteRepositoryUrl - URL for the remote repository field\n * @property {Boolean} remoteRepositoryError - Error state for the remote repository field\n *\n * @property {Boolean} useManual - Switch field to use manual repository URL\n * @property {String} previousChoice - Store previous value for remote repository\n *\n * @property {String} showConnectedServiceWarning - Show a warning about missing connected services?\n * @property {String} showManualUrlWarning - Show a warning about switching to manual URL?\n * @property {String} urlDocsManual - URL for manual warning\n * @property {String} urlConnectedServices - URL for connected services warning\n */\nexport class ProjectRepositoryMultifieldElement extends LightDOMElement {\n  static properties = {\n    label: { type: String },\n\n    repoValue: { type: String },\n    repoError: { state: true },\n    remoteRepositoryValue: { type: String },\n    remoteRepositoryUrl: { type: String },\n    remoteRepositoryError: { state: true },\n\n    useManual: { state: true },\n    previousChoice: { state: true },\n\n    showConnectedServiceWarning: {\n      type: Boolean,\n      attribute: \"show-connected-service-warning\",\n    },\n    showManualUrlWarning: {\n      type: Boolean,\n      attribute: \"show-manual-url-warning\",\n    },\n    urlConnectedServices: {\n      type: String,\n      attribute: \"url-connected-services\",\n    },\n    urlDocsManual: {\n      type: String,\n      attribute: \"url-docs-manual\",\n    },\n  };\n\n  /** @attr {Ref} refRemoteRepository - Reference to the field web component for\n   * remote repository field */\n  refRemoteRepository = createRef();\n  /** @attr {Ref} refRepo - Reference to the field web component for repo field */\n  refRepo = createRef();\n\n  constructor() {\n    super();\n    this.remoteRepositoryValue = \"\";\n    this.useManual = true;\n  }\n\n  /**\n   * Pick up elements for enhancement\n   *\n   * This is like fake slotting, something we can't use because we're not using\n   * shadow DOM. The targeted elements are used in :js:class:`render`, which is\n   * how these elements are moved into this light DOM.\n   *\n   * Children are manipulated slightly, we don't use all the child elements and\n   * work with the output DOM that Crispy gives for now.\n   */\n  connectedCallback() {\n    super.connectedCallback();\n    this.slotRemoteRepository = Array.from(\n      this.querySelector(\"#div_id_remote_repository\").children,\n    );\n    this.slotRepo = Array.from(this.querySelector(\"#div_id_repo\").children);\n\n    // Mimic shadow DOM default slot behavior. All children are moved into a\n    // disconnected element, so after slotted children are placed in the DOM the\n    // leftover element aren't displayed.\n    this.slotDefault = document.createElement(\"div\");\n    this.slotDefault.replaceChildren(...this.children);\n  }\n\n  listenerRemoteRepository(event) {\n    if (\n      event.type == \"change\" &&\n      event.target === this.refRemoteRepository.value\n    ) {\n      this.remoteRepositoryValue = event.target.value;\n      this.remoteRepositoryUrl = event.target.description;\n      this.remoteRepositoryError = event.target.hasError;\n    }\n  }\n\n  listenerRepo(event) {\n    if (event.type == \"change\" && event.target === this.refRepo.value) {\n      this.repoValue = event.target.value;\n      this.repoError = event.target.hasError;\n    }\n  }\n\n  toggleManual(event) {\n    this.useManual = Boolean(event.target.checked);\n    this.showManualUrlWarning = this.useManual;\n  }\n\n  render() {\n    const classesRemoteRepositoryField = {\n      disabled: this.useManual,\n      error: Boolean(this.remoteRepositoryError),\n    };\n    const classesRepoField = {\n      disabled: !this.useManual,\n      error: Boolean(this.repoError),\n    };\n\n    return html`\n      <div class=\"ui required field\">\n        <label> ${this.label} </label>\n\n        <div class=\"ui field segment\">\n          <readthedocs-richselect-field\n            .value=\"${this.remoteRepositoryValue}\"\n            .disabled=\"${this.useManual}\"\n            @change=\"${this.listenerRemoteRepository}\"\n            ${ref(this.refRemoteRepository)}\n          >\n            ${when(\n              this.showConnectedServiceWarning && !this.useManual,\n              () => html`\n                <div class=\"ui message\">\n                  <div class=\"header\">\n                    <i class=\"fas fa-circle-info icon\"></i>\n                    ${msg(\n                      `No connected services are configured for your account`,\n                    )}\n                  </div>\n                  ${msg(\n                    html`You must\n                      <a href=\"${this.urlConnectedServices}\"\n                        >add a connected service</a\n                      >\n                      in order to modify a project's connected repository.`,\n                  )}\n                </div>\n              `,\n            )}\n            <div\n              class=\"ui basic fitted segment ${classMap(\n                classesRemoteRepositoryField,\n              )} field\"\n            >\n              ${this.slotRemoteRepository}\n\n              <div class=\"ui divider\"></div>\n            </div>\n          </readthedocs-richselect-field>\n\n          <div class=\"ui basic fitted segment field\">\n            <div class=\"ui checkbox\">\n              <input\n                type=\"checkbox\"\n                ?checked=\"${this.useManual}\"\n                @change=\"${this.toggleManual}\"\n              />\n              <label> Use manually configured repository URL </label>\n            </div>\n          </div>\n\n          <readthedocs-input-field\n            .value=\"${this.repoValue}\"\n            .disabled=\"${!this.useManual}\"\n            @change=\"${this.listenerRepo}\"\n            ${ref(this.refRepo)}\n          >\n            ${when(\n              this.showManualUrlWarning,\n              () => html`\n                <div class=\"ui message\">\n                  <div class=\"header\">\n                    <i class=\"fas fa-circle-info icon\"></i>\n                    ${msg(`Additional setup steps are required`)}\n                  </div>\n                  ${msg(html`\n                    To learn how to set up a project with a manually configured\n                    repository URL,\n                    <a href=\"${this.urlDocsManual}\" target=\"_blank\">\n                      see our guide on configuring manual Git integrations </a\n                    >.\n                  `)}\n                </div>\n              `,\n            )}\n            <div class=\"ui ${classMap(classesRepoField)} last field\">\n              ${this.slotRepo}\n            </div>\n          </readthedocs-input-field>\n        </div>\n      </div>\n    `;\n  }\n\n  willUpdate(changed) {\n    if (changed.has(\"remoteRepositoryValue\")) {\n      if (this.remoteRepositoryValue !== \"\" && !changed.has(\"useManual\")) {\n        this.useManual = false;\n        this.repoValue = this.remoteRepositoryUrl;\n        if (this.repoError) {\n          this.repoError = false;\n          this.refRepo.value.clearErrors();\n        }\n      }\n    } else if (changed.has(\"useManual\")) {\n      if (this.useManual) {\n        this.previousChoice = this.remoteRepositoryValue;\n        this.remoteRepositoryValue = \"\";\n      } else {\n        this.remoteRepositoryValue = this.previousChoice;\n      }\n    }\n  }\n}\ncustomElements.define(\n  \"readthedocs-project-repository-multifield\",\n  ProjectRepositoryMultifieldElement,\n);\n\n/**\n * Project automation rule form view\n *\n * @param {Object} automation_rule - Initial instance data, optional\n */\nexport class ProjectAutomationRuleView {\n  static view_name = \"ProjectAutomationRuleView\";\n\n  constructor(automation_rule) {\n    this.predefined_match_arg = ko.observable();\n    this.is_match_arg_visible = ko.computed(() => {\n      let predefined_match_arg = this.predefined_match_arg();\n      return predefined_match_arg === \"\";\n    });\n    this.is_all_versions = ko.computed(() => {\n      return this.predefined_match_arg() === \"all-versions\";\n    });\n    this.is_semver_versions = ko.computed(() => {\n      return this.predefined_match_arg() === \"semver-versions\";\n    });\n    this.is_custom = ko.computed(() => {\n      return this.predefined_match_arg() === \"\";\n    });\n  }\n}\nRegistry.add_view(ProjectAutomationRuleView);\n\n/**\n * Project redirect rule form view\n *\n * @param {Object} redirect - Initial instance data, optional\n */\nexport class ProjectRedirectView {\n  static view_name = \"ProjectRedirectView\";\n\n  constructor(redirect) {\n    this.redirect_type = ko.observable();\n    this.from_url = ko.observable(\"\");\n    this.to_url = ko.observable(\"\");\n\n    this.is_example_disabled = ko.observable(false);\n    this.is_from_url_visible = ko.observable();\n    this.is_to_url_visible = ko.observable();\n\n    // HTML prefix content for from field, don't use user input here\n    this.redirect_from_prefix = ko.computed(() => {\n      const redirect_type = this.redirect_type();\n      const lang_part = `/<span class=\"ui violet text\">$lang</span>`;\n      const version_part = `/<span class=\"ui violet text\">$version</span>`;\n\n      if (redirect_type === \"page\") {\n        return `${lang_part}${version_part}/`;\n      } else if (redirect_type === \"clean_url_to_html\") {\n        return `${lang_part}${version_part}/<span class=\"ui violet text\">$file</span>/`;\n      } else if (redirect_type === \"clean_url_without_trailing_slash_to_html\") {\n        return `${lang_part}${version_part}/<span class=\"ui violet text\">$file</span>`;\n      } else if (redirect_type === \"html_to_clean_url\") {\n        return `${lang_part}${version_part}/<span class=\"ui violet text\">$file</span>.html`;\n      }\n      return \"\";\n    });\n    // User input for from field as text, no HTML allowed\n    this.redirect_from = ko.computed(() => {\n      const from_url = this.from_url();\n      const redirect_type = this.redirect_type();\n      if (redirect_type === \"prefix\") {\n        return from_url + \"faq.html\";\n      } else if (redirect_type === \"page\") {\n        return from_url.replace(/^\\/+/, \"\");\n      } else if (redirect_type === \"exact\") {\n        return from_url;\n      }\n      return \"\";\n    });\n    // HTML prefix content for to field, don't use user input here.\n    this.redirect_to_prefix = ko.computed(() => {\n      const redirect_type = this.redirect_type();\n      const lang_part = `/<span class=\"ui violet text\">$lang</span>`;\n      const version_part = `/<span class=\"ui violet text\">$version</span>`;\n\n      if (redirect_type === \"prefix\") {\n        return `${lang_part}${version_part}/faq.html`;\n      } else if (redirect_type === \"page\") {\n        return `${lang_part}${version_part}/`;\n      } else if (redirect_type === \"clean_url_to_html\") {\n        return `${lang_part}${version_part}/<span class=\"ui violet text\">$file</span>.html`;\n      } else if (redirect_type === \"clean_url_without_trailing_slash_to_html\") {\n        return `${lang_part}${version_part}/<span class=\"ui violet text\">$file</span>.html`;\n      } else if (redirect_type === \"html_to_clean_url\") {\n        return `${lang_part}${version_part}/<span class=\"ui violet text\">$file</span>/`;\n      }\n      return \"\";\n    });\n    // User input for to field as text, no HTML allowed\n    this.redirect_to = ko.computed(() => {\n      const to_url = this.to_url();\n      const redirect_type = this.redirect_type();\n      if (redirect_type === \"page\") {\n        return to_url.replace(/^\\/+/, \"\");\n      } else if (redirect_type === \"exact\") {\n        return to_url;\n      }\n      return \"\";\n    });\n\n    this.redirect_type.subscribe((redirect_type) => {\n      if ([\"prefix\", \"page\", \"exact\"].includes(redirect_type)) {\n        this.is_example_disabled(false);\n        let is_to_url_visible = true;\n\n        // Update visibility\n        if (redirect_type == \"prefix\") {\n          is_to_url_visible = false;\n        }\n        this.is_from_url_visible(true);\n        this.is_to_url_visible(is_to_url_visible);\n      } else if (\n        [\n          \"clean_url_to_html\",\n          \"clean_url_without_trailing_slash_to_html\",\n          \"html_to_clean_url\",\n        ].includes(redirect_type)\n      ) {\n        this.is_example_disabled(false);\n        this.is_from_url_visible(false);\n        this.is_to_url_visible(false);\n      } else {\n        this.is_example_disabled(true);\n        this.is_from_url_visible(false);\n        this.is_to_url_visible(false);\n      }\n    });\n  }\n}\nRegistry.add_view(ProjectRedirectView);\n\n/**\n * Project sharing form view\n *\n * @param {Object} share - Initial instance data, optional\n */\nexport class ProjectTemporaryAccessView {\n  static view_name = \"ProjectTemporaryAccessView\";\n\n  constructor(share) {\n    this.access_type = ko.observable();\n    this.show_password_field = ko.computed(() => {\n      return this.access_type() == \"password\";\n    });\n\n    this.allow_all = ko.observable(share.allow_all);\n    this.show_versions_list = ko.computed(() => {\n      return this.allow_all() === false;\n    });\n  }\n}\nRegistry.add_view(ProjectTemporaryAccessView);\n\n/**\n * Project search analytics view\n *\n * Search analytics chart data and config is loaded from an inline\n * application/json script block, so that data, labels, and localized strings\n * can be handled from the templates.\n *\n * @param {Element} elem - Element that view is attached to\n */\nexport class ProjectSearchAnalyticsView {\n  static view_name = \"ProjectSearchAnalyticsView\";\n\n  constructor() {\n    this.config = ko.observable();\n    this.is_loading = ko.observable(true);\n    this.config.subscribe((config) => {\n      this.is_loading(false);\n    });\n  }\n}\nRegistry.add_view(ProjectSearchAnalyticsView);\n\n/**\n * Project traffic analytics view\n *\n * This is identical to search analytics currently\n */\nexport class ProjectTrafficAnalyticsView extends ProjectSearchAnalyticsView {\n  static view_name = \"ProjectTrafficAnalyticsView\";\n}\nRegistry.add_view(ProjectTrafficAnalyticsView);\n","/* Public task tracking */\n\nimport jquery from \"jquery\";\n\nexport function poll_task(data) {\n  var defer = jquery.Deferred();\n  var tries = 5;\n\n  function poll_task_loop() {\n    jquery\n      .getJSON(data.url)\n      .done(function (task) {\n        if (task.finished) {\n          if (task.success) {\n            defer.resolve();\n          } else {\n            defer.reject({ message: task.error });\n          }\n        } else {\n          setTimeout(poll_task_loop, 2000);\n        }\n      })\n      .fail(function (error) {\n        console.error(\"Error polling task\");\n        tries -= 1;\n        if (tries > 0) {\n          setTimeout(poll_task_loop, 2000);\n        } else {\n          let error_msg = error.statusText;\n          if (error.responseJSON) {\n            error_msg = error.responseJSON.detail;\n          }\n          defer.reject({ message: error_msg });\n        }\n      });\n  }\n\n  setTimeout(poll_task_loop, 2000);\n\n  return defer;\n}\n\nexport function trigger_task(config) {\n  var defer = jquery.Deferred();\n  var url = config.url;\n  var token = config.token;\n  var data = { csrfmiddlewaretoken: token };\n\n  jquery.ajax({\n    method: \"POST\",\n    url: url,\n    data: data,\n    success: function (data) {\n      poll_task(data)\n        .then(function () {\n          defer.resolve();\n        })\n        .fail(function (error) {\n          // The poll_task function defer will only reject with\n          // normalized error objects\n          defer.reject(error);\n        });\n    },\n    error: function (error) {\n      var error_msg = error.responseJSON.detail || error.statusText;\n      defer.reject({ message: error_msg });\n    },\n  });\n\n  return defer;\n}\n","import jquery from \"jquery\";\nimport ko from \"knockout\";\n\nimport * as tasks from \"../tasks\";\nimport * as utils from \"../core/utils\";\nimport { ResponsiveView } from \"../core/views\";\nimport { Registry } from \"../application/registry\";\n\n/**\n * Remote repository instance for remote repository listing.\n *\n * @param {Object} remote_repo - Remote repository API data\n */\nclass RemoteRepository {\n  constructor(remote_repo) {\n    // Just copy attributes over instead of prototyping. KO observables make a\n    // prototype change more awkward. Note, ``projects`` now comes directly from\n    // the API response, there is no need to parse this data from the v2\n    // ``matches`` response.\n    for (const key of Object.keys(remote_repo)) {\n      this[key] = remote_repo[key];\n    }\n\n    /** @observable {Boolean} Is this repository private? */\n    this.is_private = ko.observable(this.private);\n    /** @observable {Booleean} Is this repository active? */\n    this.is_active = ko.observable(this.active);\n    /** @observable {Boolean} Does user have admin privilege on the repo? */\n    this.has_admin = ko.observable(this.admin);\n    /** @computed {Boolean} Can user import this repository? */\n    this.is_locked = ko.computed(() => {\n      // TODO take platform private repo setting into consideration\n      return this.is_private() && !this.has_admin();\n    });\n    /** @observable {Boolean} Was the repository already imported? */\n    this.has_project = ko.computed(() => {\n      return this.projects.length > 0;\n    });\n  }\n}\n\n/**\n * Project creation view, for setting up a new project or linking an existing\n * repository to a new project.\n *\n * @extends {ResposiveView}\n */\nexport class ProjectCreateView extends ResponsiveView {\n  static view_name = \"ProjectCreateView\";\n\n  constructor() {\n    super();\n\n    /** Configuration passed in via :func:`~application.plugins.jsonInit`\n     * @observable {Object} View configuration */\n    this.config = ko.observable();\n    /** Configuration passed in via :func:`~application.plugins.jsonInit`\n     * @observable {Object} Search configuration */\n    this.search_config = ko.observable();\n    /** @observable {Object} Search popup module configuration */\n    this.search_popup_config = ko.observable();\n    /** @observable {Object} Search modal module configuration */\n    this.search_modal_config = ko.observable(undefined);\n    /** @observable {Object} The selected repository */\n    this.selected = ko.observable();\n    /** @observable {Boolean} Is UI loading from the API currently? */\n    this.is_loading = ko.observable(false);\n    /** @observable {Boolean} Are remote repositories current resyncing? */\n    this.is_syncing = ko.observable(false);\n    /** @observable {Boolean} Are remote repositories done resyncing? */\n    this.is_synced = ko.observable(false);\n    /** @computed {Boolean} Is there a selected repository? */\n    this.is_selected = ko.computed(() => {\n      return this.selected() !== undefined;\n    });\n    /** @observable {Boolean} Can private repositories be imported */\n    this.allow_private_repos = ko.observable(false);\n    /** @observable {string} The error message to show the user */\n    this.error = ko.observable();\n\n    // Wait for config to be loaded to init search\n    this.config.subscribe((config) => {\n      if (config !== undefined) {\n        this.allow_private_repos(config.allow_private_repos);\n        this.init_search();\n      }\n    });\n  }\n\n  /**\n   * Sync remote repository objects using a call to our API. This sets the UI to\n   * a loading state so that user interaction can be limited. Configuration is\n   * loaded using :func:`config` and :func:`application.plugins.jsonInit`.\n   */\n  sync_remote_repos() {\n    const config = this.config();\n\n    const params = {\n      url: config.urls.api_sync_remote_repositories,\n      token: config.csrf_token,\n    };\n\n    this.is_synced(false);\n    this.is_syncing(true);\n    this.is_loading(true);\n\n    let promise = tasks\n      .trigger_task(params)\n      .fail((error) => {\n        console.error(\"Error syncing remote repositories:\", error.message);\n        this.error(error.message);\n      })\n      .always(() => {\n        this.is_syncing(false);\n        this.is_loading(false);\n        this.is_synced(true);\n      });\n\n    return promise;\n  }\n\n  /**\n   * Set up SUI search once :func:`config` is fully loaded.\n   *\n   * This uses a Knockout template to make it easier to display the individual\n   * elements in the list. The template is loaded from the element\n   * ``remote-repo-results``.\n   *\n   * Ultimately, this sets :func:`search_config`, which is the configuration\n   * object that will be eventually be used by SUI search jQuery plugin.\n   *\n   * .. seealso::\n   *     https://knockoutjs.com/documentation/template-binding.html\n   */\n  init_search() {\n    const config = this.config();\n    const url = config.urls.remoterepository_list + \"?full_name={query}\";\n\n    // Configuration for the trigger of the popup element. We manually show the\n    // popup in the case that the user has tried searching multiple times\n    // unsuccessfully, or has a query with no results.\n    let attemptsRemaining = 3;\n    this.search_popup_config({\n      on: \"manual\",\n      position: \"top right\",\n      hoverable: true,\n      closable: true,\n      preserve: true,\n      onHidden: () => {\n        // If the user did something to hide the popup, like click outside the\n        // popup, reset the attempts so that the popup can show again.\n        attemptsRemaining = 3;\n      },\n      // Add a long delay so that hover doesn't accidentally dismiss the popup\n      delay: {\n        hide: 5000,\n      },\n    });\n\n    // Show repair modal immediately on view load if the URL contains `#repair` hash.\n    // Use this for linking users in support directly to this modal.\n    const show_modal = jquery(location).attr(\"hash\") == \"#repair\";\n    this.search_modal_config({\n      autoShow: show_modal,\n      centered: false,\n    });\n\n    this.search_config({\n      // We use a Knockout template here, embedded in the template as a script\n      // element. This avoids string interpolation in JS and keeps HTML in one\n      // place, along with HTML translations.\n      type: \"knockout\",\n      templates: {\n        knockout: (response) => {\n          let node_temp = jquery(\"<div>\");\n\n          ko.applyBindingsToNode(node_temp[0], {\n            template: {\n              name: \"remote-repo-results\",\n              data: {\n                remote_repos: response.results.map((repo) => {\n                  return new RemoteRepository(repo);\n                }),\n              },\n            },\n          });\n\n          const output = node_temp.html();\n          node_temp.remove();\n          return output;\n        },\n      },\n      error: {\n        noResultsHeader: \"No matching repositories found\",\n      },\n      apiSettings: {\n        url: url,\n      },\n      selector: {\n        // Required because the default of ``prompt`` is a rounded input\n        prompt: \".ui.text\",\n        // Required as we use `.title` to style a complex result title. SUI uses\n        // the `text()` of this element to look up the result\n        title: \".title .text\",\n      },\n      fullTextSearch: true,\n      onSelect: (result, response) => {\n        this.selected(new RemoteRepository(result));\n      },\n      // Listen for results and decide to show the resync popup based on what\n      // the user's interaction with search results.\n      onResults: (response, fromCache) => {\n        if ((response && response.count == 0) || attemptsRemaining <= 0) {\n          // Search results are empty or user tried searching multiple times\n          // unsuccessfully so far. Calls with the behavior style call supported by\n          // :js:func:`application.plugins.semanticui`.\n          this.search_popup_config((popup) => popup(\"show\"));\n        }\n        attemptsRemaining--;\n      },\n    });\n  }\n\n  /** {Boolean} Is repository supported, based on permissions? */\n  is_repository_supported(repo) {\n    if (repo.is_private()) {\n      return this.allow_private_repos();\n    }\n    return true;\n  }\n\n  /** Show search modal */\n  show_modal() {\n    this.search_popup_config((popup) => popup(\"hide\"));\n    this.search_modal_config((modal) => modal(\"show\"));\n  }\n}\nRegistry.add_view(ProjectCreateView);\n","import ko from \"knockout\";\nimport jquery from \"jquery\";\nimport { html, render } from \"lit\";\nimport { map } from \"lit/directives/map.js\";\nimport { when } from \"lit/directives/when.js\";\nimport { classMap } from \"lit/directives/class-map.js\";\n\nimport * as admin from \"./admin\";\nimport * as create from \"./create\";\n\nimport { APIListItemView } from \"../core/views\";\nimport { Registry } from \"../application/registry\";\n\nexport { admin, create };\n\n/**\n * Project item view object used for displaying individual projects in the project\n * listing.\n *\n * @param {Object} project - Project API data\n * @extends {APIListItemView}\n */\nexport class ProjectListItemView extends APIListItemView {\n  static view_name = \"ProjectListItemView\";\n\n  constructor(project) {\n    super(project);\n\n    // Add expansion to API URL\n    this.url = this.url + \"?expand=permissions\";\n\n    /** Asynchronously load documentation URL as rendering this URL for each\n     * project slows the dashboard down considerably. Instead, this is only\n     * fetched when it is needed.\n     * @observable {string} Documentation URL for the project */\n    this.url_docs = ko.observable();\n    /* @observable {Boolean} Does the user have admin permissions on this? */\n    this.is_admin = ko.observable(false);\n\n    // Subscribe to the data loaded via :class:`APIListItemView`\n    this.data.subscribe((data) => {\n      this.url_docs(data.urls.documentation);\n      this.is_admin(data.permissions.admin);\n    });\n  }\n}\nRegistry.add_view(ProjectListItemView);\n\n/**\n * View for project version creation and version activation.\n *\n * @class\n * @construtor\n * @public\n */\nexport class ProjectVersionCreateView {\n  static view_name = \"ProjectVersionCreateView\";\n\n  constructor() {\n    /** Configuration passed in via :func:`~application.plugins.jsonInit`\n     * @observable {Object} Search configuration */\n    this.config = ko.observable();\n\n    /** @observable {Boolean} Is search data loading? */\n    this.is_loading = ko.observable(false);\n\n    /** Computed observable for rendering the final search configuration. This\n     * is used to initialize search as soon as the :func:`config` observable is\n     * finalized.\n     * @computed {Object} Search configuration object */\n    this.search_config = ko.computed(() => {\n      const config = this.config();\n      if (config !== undefined) {\n        return this.init_search(config);\n      }\n    });\n  }\n\n  /**\n   * Initialize the SUI search element using the configuration loaded in\n   * :func:`search_config`.\n   *\n   * This sets up various configuration for the search SUI element, but also\n   * sets up functions like `onSelect`, for performing actions on events.\n   *\n   * @param {object} config - configuration for search element\n   */\n  init_search(config) {\n    const maxResults = 100;\n    // String interpolation over URLSearchParams here as FUI uses basic string\n    // replacement for `{query}`, but this is encoded for URLSearchParams.\n    const url = config.api_url + `?limit=${maxResults}&verbose_name={query}`;\n    const errors = config.errors || {};\n    return {\n      apiSettings: {\n        url: url,\n      },\n      error: errors,\n      fullTextSearch: true,\n      maxResults: maxResults,\n      onSelect: (result, response) => {\n        window.location.href = result.urls.dashboard.edit;\n      },\n      selector: {\n        // Required because this uses ``.ui.text`` instead of ``.ui.prompt``\n        // because prompt uses a rounded input style\n        prompt: \".ui.text\",\n        // Required as ``.title`` is a complex element in our use, not a simple\n        // string like normal. The inner ``.title .text`` sets the field result\n        // to just the string value.\n        title: \".title .text\",\n      },\n      // Show results immediately on focus\n      minCharacters: 0,\n      searchOnFocus: true,\n      // Use custom template for rich result display\n      type: \"versions\",\n      templates: {\n        versions: (response) => {\n          // Using Lit here as this will likely very soon just be a web component\n          // anyways. The project create form references a Knockout observable\n          // and a template in HTML. This uses a temporary element to render down\n          // to HTML, then removes the element from ``document`` immediately.\n          const container = document.createElement(\"div\");\n          const results = html`\n            <div class=\"results\">\n              ${map(\n                response.results,\n                (version) => html`\n                  <a class=\"result\">\n                    <div class=\"image\"></div>\n                    <div class=\"content\">\n                      <div class=\"title\">\n                        <span class=\"text\">${version.verbose_name}</span>\n                        <i\n                          class=\"fas ${classMap({\n                            \"fa-code-branch\": version.type === \"branch\",\n                            \"fa-tag\": version.type === \"tag\",\n                          })} small icon\"\n                        ></i>\n                        ${when(\n                          version.active,\n                          () => html`\n                            <span class=\"ui horizontal label\">\n                              <i class=\"fas fa-check icon\"></i>\n                              Active\n                            </span>\n                          `,\n                        )}\n                      </div>\n                      <div class=\"description\">\n                        <code>${version.identifier}</code>\n                      </div>\n                    </div>\n                  </a>\n                `,\n              )}\n            </div>\n          `;\n\n          // Lit renders on an element, but FUI search templates expect HTML return\n          render(results, container);\n          const htmlResults = container.innerHTML;\n          container.remove();\n          return htmlResults;\n        },\n      },\n    };\n  }\n}\nRegistry.add_view(ProjectVersionCreateView);\n\n/** Version list item subview\n *\n * This mutates project version API return data for use in the Knockout view.\n *\n * URLs for documentation output are lazy loaded when they are requested. We\n * don't do an API call until the user interacts with the version object. This\n * way we don't have to render all of the documentation artifact URLs at once\n * through the resolver. This can cause 10s dashboard load times with a lot of\n * versions.\n *\n * @param {Object} version - Version object data from API\n * @extends {APIListItemView}\n */\nexport class VersionListItemView extends APIListItemView {\n  static view_name = \"VersionListItemView\";\n\n  constructor(version) {\n    super(version);\n\n    /** @observable {string} Async loaded URL for version PDF */\n    this.url_pdf = ko.observable();\n    /** @observable {string} Async loaded URL for version EPUB */\n    this.url_epub = ko.observable();\n    /** @observable {string} Async loaded URL for version HTMLzip */\n    this.url_html = ko.observable();\n    /** @observable {string} Async loaded URL for version docs */\n    this.url_docs = ko.observable();\n    /** @observable {Boolean} is version successfully built? */\n    this.is_built = ko.observable(true);\n\n    // On resolving the data from the API, fill out these observables.\n    this.data.subscribe((data) => {\n      this.url_pdf(data.downloads.pdf);\n      this.url_epub(data.downloads.epub);\n      this.url_html(data.downloads.htmlzip);\n      this.url_docs(data.urls.documentation);\n      this.is_built(data.built);\n    });\n  }\n\n  /**\n   * Trigger a build task for a specific version. This replaces the build\n   * dropdown form and instead provides a link on each version admin menu, which\n   * is far more intuitive.\n   *\n   * @param {string} url - URL to post to, this is a project form view, so comes\n   * from the Django template\n   * @param {string} csrf_token - Also from the Django form, the CSRF token\n   * @returns {function} Callback function\n   */\n  trigger_build(url, csrf_token) {\n    return (context, ev) => {\n      jquery\n        .ajax({\n          type: \"POST\",\n          url: url,\n          data: {\n            csrfmiddlewaretoken: csrf_token,\n          },\n        })\n        .then((data) => {\n          if (data.build.urls.build) {\n            window.location.href = data.build.urls.build;\n          } else {\n            console.debug(\"Redirect to new build failed\");\n          }\n        })\n        .catch((err) => {\n          console.error(err);\n        });\n    };\n  }\n}\nRegistry.add_view(VersionListItemView);\n\nexport class ProjectAnnouncementView {\n  static view_name = \"ProjectAnnouncementView\";\n\n  constructor(cache_key) {\n    this.cache_key = cache_key;\n    this.prefix_key = \"announcements\";\n    this.storage_key = `${this.prefix_key}.${this.cache_key}`;\n    this.closed = ko.observable();\n    const cached_value = localStorage.getItem(this.storage_key);\n    if (cached_value) {\n      this.closed(true);\n    } else {\n      this.closed(false);\n    }\n  }\n\n  close_announcement() {\n    this.closed(true);\n    localStorage.setItem(this.storage_key, true);\n  }\n}\nRegistry.add_view(ProjectAnnouncementView);\n","import { Registry } from \"../application/registry\";\n\n/*\n * View for tracking opened links, and reloading the page when they are closed.\n *\n * Useful when we depend on changes done outside of the app,\n * but we don't want to have users manually reload the page,\n * or constantly poll the server.\n */\nexport class MigrateGitHubAppView {\n  static view_name = \"MigrateGitHubAppView\";\n  constructor() {\n    this.openedWindows = [];\n    this.trackClosedWindows();\n  }\n\n  trackClosedWindows() {\n    setInterval(() => {\n      let originalLength = this.openedWindows.length;\n      this.openedWindows = this.openedWindows.filter((win) => !win.closed);\n      if (this.openedWindows.length < originalLength) {\n        // Wait some seconds before reloading the page,\n        // so our app has time to update the status.\n        setTimeout(() => {\n          window.location.reload();\n        }, 500);\n      }\n    }, 250);\n  }\n\n  /*\n   * Click event handler for tracking opened links.\n   */\n  trackLinkClick(data, event) {\n    event.preventDefault();\n    const newWindow = window.open(event.target.href, \"_blank\");\n    if (newWindow) {\n      this.openedWindows.push(newWindow);\n    }\n  }\n}\n\nRegistry.add_view(MigrateGitHubAppView);\n","import jquery from \"jquery\";\nimport ko from \"knockout\";\nimport clipboard from \"clipboard\";\nimport * as Sentry from \"@sentry/browser\";\n\nimport { ApplicationView } from \"./views\";\nimport * as plugins from \"./plugins\";\nimport { Registry } from \"./registry\";\n\n// Application views\nimport * as account_views from \"../account\";\nimport * as build_views from \"../build\";\nimport * as core_views from \"../core\";\nimport * as gold_views from \"../gold\";\nimport * as module_views from \"../modules\";\nimport * as organization_views from \"../organization\";\nimport * as project_views from \"../project\";\nimport * as profile_views from \"../profile\";\n\n/**\n * This is the main entry point for the front end code and is used to set up and\n * instantiate Webpack, Knockout, and SemanticUI. This class is used to set up\n * and instantiate all of the front end functionality. The main entry point is\n * :meth:`Application.run`.\n */\nexport class Application {\n  constructor(config) {\n    this.config = config;\n    this.registry = new Registry();\n  }\n\n  /**\n   * This is the first method to be executed after instantiation. It handles\n   * all of the set up and instantiation.\n   *\n   * - :meth:`Application.load_config` loads the site configuration\n   * - :meth:`Application.configure_plugins` loads plugins\n   * - :meth:`Application.attach_view` does view routing and attaches the view\n   * - :meth:`Application.start_plugins` sets up jQuery plugins on some elements\n   */\n  run() {\n    this.load_config();\n    this.configure_plugins();\n    this.attach_view();\n    this.add_jquery_plugins();\n  }\n\n  /**\n   * Load site configuration from a special ``application/json`` script element.\n   * This configures paths for Webpack async imports, console debugging.\n   *\n   * .. seealso::\n   *     Convention on :ref:`js-json-config`\n   */\n  load_config() {\n    if (this.config === undefined) {\n      console.debug(\"Loading site front end configuration from script tag\");\n      const site_config_src = jquery(\"script#site-config\").text() || \"{}\";\n      this.config = JSON.parse(site_config_src);\n    }\n    if (this.config?.webpack_public_path) {\n      __webpack_public_path__ = this.config.webpack_public_path;\n      globalThis.__webpack_public_path__ = this.config.webpack_public_path;\n    }\n    // Null route debug logging, don't do output anything that was debug\n    if (!this.config?.debug) {\n      console.debug = () => {};\n    }\n    // Load Sentry\n    if (this.config?.sentry?.dsn) {\n      Sentry.init({\n        dsn: this.config.sentry.dsn,\n        environment: this.config.sentry?.environment,\n        integrations: [],\n      });\n    }\n\n    return this.config;\n  }\n\n  /**\n   * Add jQuery and Knockout plugins so that HTML and JS can use these plugins.\n   * This is mainly just the various import logic and configuration, not where\n   * we would run something like ``$('.ui.modal').modal()``.\n   */\n  configure_plugins() {\n    plugins.configure_jquery_plugins();\n    plugins.configure_knockout_plugins();\n  }\n\n  /**\n   * Attach the :class:`ApplicationView` view router, which gives templates\n   * access to all views that we have available. This is how we are able to\n   * reference a view in a Knockout data binding.\n   */\n  attach_view() {\n    const view = new ApplicationView();\n    this.registry.attach(view);\n    view.attach();\n  }\n\n  /**\n   * Set up jQuery and SUI jQuery plugins that were not explicitly set up in\n   * templates. Elements that are configured inside templates use the Knockout\n   * plugin :func:`~application.plugins.semanticui`. This allows for explicit\n   * set up of an element's plugin, and should be the standard way to attach a\n   * jQuery plugin to an element.\n   *\n   * We don't do generic targeting of elements when setting up jQuery plugins as\n   * there are a number of places where an element needs to be initialized with\n   * specific plugin configuration. It's easiest to define in HTML what plugin\n   * and plugin configuration the element needs.\n   *\n   * .. warning::\n   *     Generic targeting use should be avoided and it's use deprecated.\n   */\n  add_jquery_plugins() {\n    // TODO remove instances of these in code and replace with the explicit\n    // semanticui KO plugin.\n    jquery(\".ui.progress:not([data-semanticui-progress])\").progress();\n    jquery(\".ui.accordion:not([data-semanticui-accordion])\").accordion();\n    jquery(\".ui.dropdown:not([data-semanticui-dropdown])\").dropdown({\n      placeholder: \"\",\n    });\n    // Automatically convert ``<select>`` in a nested dropdown element. This is\n    // used with Crispy form fields and other Django form fields mostly.\n    jquery(\".ui.dropdown[data-semanticui-dropdown] > select\").dropdown({\n      placeholder: \"\",\n    });\n\n    // Enable popup functionality with a broad CSS selector here because\n    // `data-content` is very basic usage of a popup. Anything more complicated\n    // should use the semanticui KO plugin.\n    jquery(\"[data-content]:not([data-semanticui-popup])\").popup({\n      position: \"top center\",\n      delay: {\n        show: 500,\n      },\n      variation: \"small\",\n    });\n    jquery(\".ui.menu > .item[data-tab]\").tab();\n\n    /* Initialize clipboard.js using a few selectors that we are using. This\n     * isn't a great fit for Knockout custom data binding or plugin, as the\n     * library uses some builtin/hardcoded selectors. */\n    var clipboard_global = new clipboard(\n      \"[data-clipboard-text], [data-clipboard-target]\",\n    );\n    // Provide the user with some visual feedback using FUI popups\n    jquery(\"[data-clipboard-text], [data-clipboard-target]\").popup({\n      on: \"click\",\n      hoverable: false,\n      content: \"Copied!\",\n    });\n\n    // Plausible\n    jquery(\"[data-analytics], [data-analytics-events]\").plausible(\n      this.config.production_domain,\n      this.config.debug,\n    );\n  }\n}\n","import jquery from \"jquery\";\nimport { Application } from \"./application\";\n\njquery(document).ready(() => {\n  const app = new Application();\n  app.run();\n});\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"js/vendors~\" + chunkId + \".js?\" + {\"chartjs\":\"9fe6b0464564451d1f1f\",\"ansi_up\":\"c3b32875873781bca34e\"}[chunkId] + \"\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"./\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"site\": 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkreadthedocsext_theme\"] = self[\"webpackChunkreadthedocsext_theme\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(286)))\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(8413)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","leafPrototypes","getProto","inProgress","dataWebpackPrefix","moment","e","Error","code","module","exports","ApplicationView","_classCallCheck","key","value","selector","arguments","length","undefined","console","debug","ko","this","jquery","modal_id","data","event","modal","_step","_iterator","_createForOfIteratorHelper","document","querySelectorAll","s","n","done","button","dataset","variation","split","pop","join","err","f","form","currentTarget","querySelector","submit","globalThis","jQuery","htmlInit","add_init_handler","element","innerHTML","property","html","textInit","innerText","text","valueInit","jsonInit","JSON","parse","error","getter","setter","init","valueAccessor","allBindingsAccessor","value_accessor","chart","then","_ref","chartjs","config","datasets","map","backgroundColor","borderColor","pointBorderColor","borderWidth","popup","bindings","view","context","Object","assign","hoverable","delay","show","hide","exclusive","onHide","$rawData","hover","webcomponent","update","all_bindings","binding_value","_i","_Object$entries","entries","_Object$entries$_i","_slicedToArray","semanticui","jq_element","_loop","_Object$entries2$_i","_Object$entries2","_i2","behavior","_console","_len","args","Array","_key","apply","concat","detachable","body","prepend","attr","jqueryPlausible","domain","plausibleSettings","trackLocalhost","trackEvent","Plausible","trackPageview","each","index","elem","_data$analyticsEvents","_data$analytics","eventNames","analyticsEvents","analytics","eventProperties","handleAnalyticsEvent","isLink","tagName","toLowerCase","isMiddleClick","type","which","isClick","isLinkClick","target","ctrlKey","metaKey","shiftKey","Promise","all","eventName","resolve","reject","callback","props","setTimeout","href","window","location","preventDefault","keys","forEach","match","_match","addEventListener","jquery_tabmenu","settings","$","find","tab","Registry","_this","name","views","view_name","params","_construct","constructor","view_class","SocialAccountView","options","github_modal_config","_createClass","_defineProperty","LoginView","_SocialAccountView","_inherits","_super","_createSuper","call","last_tab","last_method","popups","method","_this2","position","content","msg","closable","preserve","on","isArray","includes","cookie","isSecureContext","_get","_getPrototypeOf","prototype","add_view","dayjs","RelativeTime","Duration","LocalizedFormat","BuildCommandOutput","build_command_output","command","output","line_number","anchor_id","id","is_selected","BuildCommand","build_command","replace","looks_like_debug","is_debug","exit_code","is_successful","is_cancelled","run_time","end_time","finished","is_visible","deferEvaluation","command_class","is_expanded","subscribe","output_lines","line","ansi_up","AnsiUp","use_classes","ansi_to_html","BuildDetailView","_this3","build","url_api_build","url_api_notifications","success","notifications","has_notifications","state","state_display","is_finished","is_loading","can_cancel","can_retry","can_view_docs","is_wrapped","update_state","progress_config","states","isInitial","autoSuccess","indexOf","total","label","is_failed","progress","extend","date","date_display","date_display_since","length_display","date_readable","format","fromNow","duration","dateNow","dateStart","diff","formatParts","minutes","unshift","hours","builder","commands","commit","commit_short","substring","docs_url","commit_url","legacy_output","selected_hash","selected_line","selected_line_prev","show_debug","is_polling","set_selected_line_from_hash","poll_api_build","poll_api_notifications","_this4","valueHasMutated","add_command","stringify","_this5","state__in","results","command_found","arrayFirst","command_search","push","scrollIntoView","block","inline","focus","found","selected_command","output_line","set_selected_line","breakpoints","mobile","tablet","computer","large_screen","ResponsiveView","viewport_width","device","ratelimit","width","_Object$keys","device_name","is_device","jq_window","fn_update","APIListItemView","url","loaded","loading","promise","HeaderView","search_project_config","URL","api_projects_list_url","origin","search","apiSettings","onResponse","resp","description","slug","subproject_of","translation_of","language","url_project","urls","home","url_window","hostname","title","toString","minCharacters","StripeCheckoutView","stripeKey","checkoutSessionUrl","csrfToken","stripe","stripeLoading","priceId","initializeStripe","loadStripe","fetch","headers","result","json","redirectToCheckout","sessionId","session_id","LightDOMElement","_LitElement","LitElement","AvatarElement","_templateObject","_taggedTemplateLiteral","changed","has","seed","rng","pureRand","posX","posY","style","setProperty","String","css","_templateObject2","customElements","define","CollapsingHeaderView","collapsed","is_collapsed","dropdown_class","FilterView","filter_config","action","onChange","$elem","closest","emitLitDebugLogEvents","detail","FieldElement","_LightDOMElement","_assertThisInitialized","createRef","hasError","refInput","refErrors","Boolean","set","tabIndex","setAttribute","inputValue","disabled","dispatchChangeEvent","dispatchEvent","CustomEvent","bubbles","composed","remove","InputFieldElement","_FieldElement","_super2","elemInput","stopPropagation","RichSelectFieldElement","_FieldElement2","_super3","dropdown","fireOnInit","$selected","selected","_jquery","get","properties","APIEventWrapper","onEvent","Accept","request","classes","classList","add","sendRequest","getHeaders","getUrl","response","ok","onError","urlSuccess","getSuccessURL","class","message","errorMessage","attribute","MenuBuildRebuildElement","_APIEventWrapper","_this$data","ButtonSyncAllVersionsElement","_APIEventWrapper2","log","contextData","createContext","Symbol","contextState","States","freeze","WAITING","LOADING","DONE","APIProviderElement","_APIEventWrapper3","_super4","ContextProvider","_providerData","setValue","_providerState","APIConsumerElement","_LightDOMElement2","_super5","ContextConsumer","_consumerData","_consumerState","click","ItemDocsElement","_APIConsumerElement","_super6","_this$data2","classMap","documentation","queueEvent","when","_templateObject3","ItemDownloadsElement","_APIConsumerElement2","_super7","_this$data3","_this$data4","_this$data5","_this$data6","_this$data7","_this$data8","_templateObject4","_templateObject5","_templateObject6","downloads","pdf","epub","htmlzip","MenuProjectAdminElement","_APIConsumerElement3","_super8","_this$data9","_this$data10","isAdmin","permissions","admin","urlSettings","_templateObject7","_properties","setPrototypeOf","isFrozen","getPrototypeOf","getOwnPropertyDescriptor","seal","create","construct","Reflect","x","fun","thisValue","Func","arrayForEach","unapply","arrayPop","arrayPush","stringToLowerCase","stringToString","stringMatch","stringReplace","stringIndexOf","stringTrim","trim","objectHasOwnProperty","hasOwnProperty","regExpTest","RegExp","test","typeErrorCreate","func","TypeError","_len2","_key2","thisArg","addToSet","array","transformCaseFunc","l","lcElement","cleanArray","clone","object","newObject","lookupGetter","prop","desc","html$1","svg$1","svgFilters","svgDisallowed","mathMl$1","mathMlDisallowed","svg","mathMl","xml","MUSTACHE_EXPR","ERB_EXPR","TMPLIT_EXPR","DATA_ATTR","ARIA_ATTR","IS_ALLOWED_URI","IS_SCRIPT_OR_DATA","ATTR_WHITESPACE","DOCTYPE_NAME","CUSTOM_ELEMENT","EXPRESSIONS","__proto__","NODE_TYPE","getGlobal","purify","createDOMPurify","DOMPurify","root","version","removed","nodeType","isSupported","originalDocument","currentScript","DocumentFragment","HTMLTemplateElement","Node","Element","NodeFilter","NamedNodeMap","MozNamedAttrMap","HTMLFormElement","DOMParser","trustedTypes","ElementPrototype","cloneNode","getNextSibling","getChildNodes","getParentNode","template","createElement","ownerDocument","trustedTypesPolicy","emptyHTML","implementation","createNodeIterator","createDocumentFragment","getElementsByTagName","importNode","hooks","afterSanitizeAttributes","afterSanitizeElements","afterSanitizeShadowDOM","beforeSanitizeAttributes","beforeSanitizeElements","beforeSanitizeShadowDOM","uponSanitizeAttribute","uponSanitizeElement","uponSanitizeShadowNode","createHTMLDocument","IS_ALLOWED_URI$1","ALLOWED_TAGS","DEFAULT_ALLOWED_TAGS","ALLOWED_ATTR","DEFAULT_ALLOWED_ATTR","CUSTOM_ELEMENT_HANDLING","tagNameCheck","writable","configurable","enumerable","attributeNameCheck","allowCustomizedBuiltInElements","FORBID_TAGS","FORBID_ATTR","ALLOW_ARIA_ATTR","ALLOW_DATA_ATTR","ALLOW_UNKNOWN_PROTOCOLS","ALLOW_SELF_CLOSE_IN_ATTR","SAFE_FOR_TEMPLATES","SAFE_FOR_XML","WHOLE_DOCUMENT","SET_CONFIG","FORCE_BODY","RETURN_DOM","RETURN_DOM_FRAGMENT","RETURN_TRUSTED_TYPE","SANITIZE_DOM","SANITIZE_NAMED_PROPS","KEEP_CONTENT","IN_PLACE","USE_PROFILES","FORBID_CONTENTS","DEFAULT_FORBID_CONTENTS","DATA_URI_TAGS","DEFAULT_DATA_URI_TAGS","URI_SAFE_ATTRIBUTES","DEFAULT_URI_SAFE_ATTRIBUTES","MATHML_NAMESPACE","SVG_NAMESPACE","HTML_NAMESPACE","NAMESPACE","IS_EMPTY_INPUT","ALLOWED_NAMESPACES","DEFAULT_ALLOWED_NAMESPACES","MATHML_TEXT_INTEGRATION_POINTS","HTML_INTEGRATION_POINTS","COMMON_SVG_AND_HTML_ELEMENTS","PARSER_MEDIA_TYPE","SUPPORTED_PARSER_MEDIA_TYPES","CONFIG","formElement","isRegexOrFunction","testValue","Function","_parseConfig","cfg","ADD_URI_SAFE_ATTR","ADD_DATA_URI_TAGS","ALLOWED_URI_REGEXP","ADD_TAGS","ADD_ATTR","table","tbody","TRUSTED_TYPES_POLICY","createHTML","createScriptURL","purifyHostElement","createPolicy","suffix","ATTR_NAME","hasAttribute","getAttribute","policyName","scriptUrl","_","warn","_createTrustedTypesPolicy","ALL_SVG_TAGS","ALL_MATHML_TAGS","_forceRemove","node","removeChild","_removeAttribute","getAttributeNode","from","removeAttribute","_initDocument","dirty","doc","leadingWhitespace","matches","dirtyPayload","parseFromString","documentElement","createDocument","insertBefore","createTextNode","childNodes","_createNodeIterator","SHOW_ELEMENT","SHOW_COMMENT","SHOW_TEXT","SHOW_PROCESSING_INSTRUCTION","SHOW_CDATA_SECTION","_isClobbered","nodeName","textContent","attributes","namespaceURI","hasChildNodes","_isNode","_executeHooks","currentNode","hook","_sanitizeElements","allowedTags","firstElementChild","_isBasicCustomElement","parentNode","i","childClone","__removalCount","parent","parentTagName","_checkValidNamespace","expr","_isValidAttribute","lcTag","lcName","_sanitizeAttributes","hookEvent","attrName","attrValue","keepAttr","allowedAttributes","forceKeepAttr","getAttributeType","setAttributeNS","_sanitizeShadowDOM","fragment","shadowNode","shadowIterator","nextNode","sanitize","importedNode","returnNode","appendChild","firstChild","nodeIterator","shadowroot","shadowrootmode","serializedHTML","outerHTML","doctype","setConfig","clearConfig","isValidAttribute","tag","addHook","entryPoint","hookFunction","removeHook","removeHooks","removeAllHooks","NotificationElement","notification","nothing","inverted","dismissable","dismiss","icon_classes","unsafeHTML","header","_links","_self","transition","animation","onComplete","parentElement","NotificationListElement","URLSearchParams","fetchNotifications","repeat","className","PopupcardView","is_showing","is_loaded","popup_config","onShow","responseJSON","OrganizationSettingsAuthorizationView","provider_original","provider","show_warning","use_domain","OrganizationCreateView","slugified","slugify","example","val","ProjectRepositoryMultifieldElement","remoteRepositoryValue","useManual","_this$slotDefault","slotRemoteRepository","children","slotRepo","slotDefault","replaceChildren","_toConsumableArray","refRemoteRepository","remoteRepositoryUrl","remoteRepositoryError","refRepo","repoValue","repoError","checked","showManualUrlWarning","classesRemoteRepositoryField","classesRepoField","listenerRemoteRepository","ref","showConnectedServiceWarning","urlConnectedServices","toggleManual","listenerRepo","urlDocsManual","clearErrors","previousChoice","ProjectAutomationRuleView","automation_rule","predefined_match_arg","is_match_arg_visible","is_all_versions","is_semver_versions","is_custom","ProjectRedirectView","redirect","redirect_type","from_url","to_url","is_example_disabled","is_from_url_visible","is_to_url_visible","redirect_from_prefix","lang_part","version_part","redirect_from","redirect_to_prefix","redirect_to","ProjectTemporaryAccessView","share","access_type","show_password_field","allow_all","show_versions_list","ProjectSearchAnalyticsView","_this6","ProjectTrafficAnalyticsView","_ProjectSearchAnalyti","trigger_task","defer","csrfmiddlewaretoken","token","tries","poll_task_loop","task","fail","error_msg","statusText","poll_task","RemoteRepository","remote_repo","is_private","is_active","active","has_admin","is_locked","has_project","projects","ProjectCreateView","_ResponsiveView","search_config","search_popup_config","search_modal_config","is_syncing","is_synced","allow_private_repos","init_search","api_sync_remote_repositories","csrf_token","tasks","always","remoterepository_list","attemptsRemaining","onHidden","show_modal","autoShow","centered","templates","knockout","node_temp","remote_repos","repo","noResultsHeader","prompt","fullTextSearch","onSelect","onResults","fromCache","count","ProjectListItemView","_APIListItemView","project","url_docs","is_admin","ProjectVersionCreateView","api_url","errors","maxResults","dashboard","edit","searchOnFocus","versions","container","verbose_name","identifier","render","htmlResults","VersionListItemView","_APIListItemView2","url_pdf","url_epub","url_html","is_built","built","ev","ProjectAnnouncementView","cache_key","prefix_key","storage_key","closed","localStorage","getItem","setItem","MigrateGitHubAppView","openedWindows","trackClosedWindows","setInterval","originalLength","filter","win","reload","newWindow","open","Application","registry","load_config","configure_plugins","attach_view","add_jquery_plugins","_this$config","_this$config2","_this$config3","_this$config$sentry","site_config_src","webpack_public_path","__webpack_public_path__","sentry","dsn","Sentry","environment","integrations","site","tabs","tabmenu","plausible","attach","accordion","placeholder","clipboard","production_domain","ready","run","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","m","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","every","splice","r","obj","t","mode","__esModule","ns","def","current","getOwnPropertyNames","d","definition","o","defineProperty","chunkId","reduce","promises","u","miniCssF","script","needAttach","scripts","charset","timeout","nc","src","onScriptComplete","prev","onerror","onload","clearTimeout","doneFns","bind","head","toStringTag","p","installedChunks","installedChunkData","errorType","realSrc","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}