{% extends "includes/crud/list.html" %}

{% load i18n %}

{% load gravatar %}

{% load core_tags %}
{% load privacy_tags %}
{% load projects_tags %}

{# Because we don't have filters and an inline create form, we don't need this yet #}
{% block top_menu %}
{% endblock top_menu %}

{% block top_left_menu_items %}
{% endblock top_left_menu_items %}

{% block create_button %}
  {% comment %}
    {# TODO make this a view #}
    <div class="item">
      <a class="ui green icon button"
        href="{% url "projects_domains_create" project.slug %}">
        <i class="plus icon"></i>
        {% trans "Add maintainer" %}
      </a>
    </div>
  {% endcomment %}
{% endblock %}

{% block list_placeholder_icon %}{% endblock %}
{% block list_placeholder_header %}
  {% blocktrans trimmed %}
    No domains are currently configured.
  {% endblocktrans %}
  <div class="sub header">
    {% blocktrans trimmed with docs_url='https://docs.readthedocs.io/page/custom_domains.html' %}
      Configuring a custom domain allows you to serve your documentation from a
      domain other than "{{ default_domain }}".
    {% endblocktrans %}
  </div>
{% endblock list_placeholder_header %}
{% block list_placeholder_text %}
  <a class="ui button" href="{{ docs_url }}">{% trans "Learn more" %}</a>.
{% endblock list_placeholder_text %}

{% block list_item_right_buttons %}
  <a class="ui{% if object == request.user %} disabled{% endif %} icon button"
     data-bind="click: $root.show_modal('user-{{ object.username }}')"
     data-content="{% trans "Remove maintainer" %}">
    <i class="fa-duotone fa-trash icon"></i>
  </a>
  <div class="ui mini modal" data-modal-id="user-{{ object.username }}">
    <div class="header">Remove user {{ object.username }}</div>
    <div class="content">
      Remove user <code>{{ object.username }}</code> as a maintainer?
    </div>
    <div class="actions">
      <form method="post" action="{% url "projects_users_delete" project.slug %}">
        {% csrf_token %}
        <input type="hidden" name="username" value="{{ object.username }}" />
        <input class="ui negative button" type="submit" value="{% trans "Remove" %}">
      </form>
    </div>
  </div>
{% endblock list_item_right_buttons %}

{% block list_item_header %}
  <a class="ui basic label"
     href="{% url "profiles_profile_detail" user.username %}">
    <i class="fa-duotone fa-user icon"></i>
    <code>{{ object.username }}</code>
  </a>
{% endblock list_item_header %}

{% block list_item_meta %}
{% endblock list_item_meta %}
